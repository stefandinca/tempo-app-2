Options -MultiViews
DirectorySlash On
DirectoryIndex index.html

RewriteEngine On
RewriteBase /v2/

# 1. If the exact file exists (e.g. style.css), serve it
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# 2. If it's a directory and has an index.html, serve it
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteRule ^ - [L]

# 3. Clean URLs: If /parent is requested, check if /parent/index.html exists
RewriteCond %{DOCUMENT_ROOT}/v2/$1/index.html -f
RewriteRule ^(.*)/?$ $1/index.html [L]

# 4. Fallback to SPA root for EVERYTHING ELSE (the dashboard)
RewriteRule . /v2/index.html [L]
