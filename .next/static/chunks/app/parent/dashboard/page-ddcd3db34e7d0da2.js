(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{14023:function(e,t,r){Promise.resolve().then(r.bind(r,21402))},98998:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},97307:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},37805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},26490:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},69475:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},18994:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},29733:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(87461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},66912:function(e,t,r){"use strict";r.d(t,{Ej:function(){return d},tM:function(){return u},tu:function(){return o}});var s=r(3827),n=r(64090),a=r(1221),l=r(58121),i=r(18994),c=r(98998);function d(){let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)([]),[i,c]=(0,n.useState)(!0),[d,o]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("parent_client_code");if(!e){o("No client code found. Please log in."),c(!1);return}let r=(0,l.IO)((0,l.hJ)(a.db,"clients"),(0,l.ar)("clientCode","==",e.toUpperCase())),n=null,i=(0,l.cf)(r,e=>{if(e.empty){o("Portal session invalid or expired."),c(!1);return}let r=e.docs[0],i=r.id;t({id:i,...r.data()}),n&&n();let d=(0,l.IO)((0,l.hJ)(a.db,"events"),(0,l.ar)("clientIds","array-contains",i),(0,l.Xo)("startTime","asc"));n=(0,l.cf)(d,e=>{let t=[];e.forEach(e=>t.push({id:e.id,...e.data()})),s(t),c(!1)},e=>{console.error("Sessions fetch error:",e),c(!1)})},e=>{console.error("Client fetch error:",e),o(e.message),c(!1)});return()=>{i(),n&&n()}},[]),{data:e,sessions:r,loading:i,error:d}}function o(){return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-500",children:[(0,s.jsx)(i.Z,{className:"w-10 h-10 animate-spin mb-4"}),(0,s.jsx)("p",{children:"Loading your portal..."})]})}function u(e){let{message:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center px-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-error-50 dark:bg-error-900/20 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(c.Z,{className:"w-8 h-8 text-error-500"})}),(0,s.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"Access Error"}),(0,s.jsx)("p",{className:"text-neutral-500 text-sm mt-1 max-w-xs mx-auto",children:t}),(0,s.jsx)("a",{href:"/parent",className:"mt-6 text-primary-600 font-bold hover:underline",children:"Back to Login"})]})}},21402:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(3827),n=r(97307),a=r(37805),l=r(26490),i=r(29733),c=r(69475);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r(87461).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var o=r(8792),u=r(66912),x=r(2335);function h(){var e,t;let{data:r,sessions:h,loading:m,error:p}=(0,u.Ej)(),{data:f}=(0,x.lU)();if(m)return(0,s.jsx)(u.tu,{});if(p||!r)return(0,s.jsx)(u.tM,{message:p||"Could not load child data."});let b=new Date,y=h.filter(e=>new Date(e.startTime)>=b)[0],g=y?(t=y.therapistId,f.find(e=>e.id===t)):null,j=new Date().getMonth(),N=h.filter(e=>new Date(e.startTime).getMonth()===j),k=N.filter(e=>"completed"===e.status);return(0,s.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsxs)("section",{className:"px-4 py-6",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:["\uD83D\uDC4B Welcome back, ",(null===(e=r.parentName)||void 0===e?void 0:e.split(" ")[0])||"Parent","!"]}),(0,s.jsxs)("p",{className:"text-neutral-500 text-sm mt-1",children:["Viewing portal for: ",(0,s.jsx)("span",{className:"font-bold text-primary-600",children:r.name})]})]}),(0,s.jsx)("section",{className:"px-4",children:y?(0,s.jsxs)("div",{className:"bg-primary-600 rounded-3xl p-6 text-white shadow-lg shadow-primary-500/30 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:(0,s.jsx)(n.Z,{className:"w-24 h-24"})}),(0,s.jsx)("p",{className:"text-primary-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Next Session"}),(0,s.jsxs)("h2",{className:"text-xl font-bold mb-4",children:[new Date(y.startTime).toLocaleDateString("en-US",{weekday:"long"}),", ",new Date(y.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/10",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center font-bold",style:{backgroundColor:(null==g?void 0:g.color)||"rgba(255,255,255,0.2)"},children:(null==g?void 0:g.initials)||"??"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:y.type}),(0,s.jsxs)("p",{className:"text-xs text-primary-100",children:["with ",(null==g?void 0:g.name)||"Assigned Therapist"]})]}),(0,s.jsx)(o.default,{href:"/parent/schedule",className:"ml-auto p-2 bg-white text-primary-600 rounded-xl",children:(0,s.jsx)(a.Z,{className:"w-5 h-5"})})]})]}):(0,s.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-3xl p-8 text-center border border-dashed border-neutral-300 dark:border-neutral-700",children:[(0,s.jsx)(l.Z,{className:"w-10 h-10 text-neutral-400 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-neutral-500 font-medium",children:"No upcoming sessions scheduled."})]})}),(0,s.jsxs)("section",{className:"px-4 grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-success-50 dark:bg-success-900/20 rounded-xl flex items-center justify-center text-success-600 mb-3",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),(0,s.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Overall Progress"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:[r.progress||0,"%"]}),(0,s.jsx)("p",{className:"text-[10px] text-success-600 font-bold mt-1",children:"+4% this month"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-secondary-50 dark:bg-secondary-900/20 rounded-xl flex items-center justify-center text-secondary-600 mb-3",children:(0,s.jsx)(n.Z,{className:"w-5 h-5"})}),(0,s.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Sessions (Feb)"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:N.length}),(0,s.jsxs)("p",{className:"text-[10px] text-neutral-400 font-bold mt-1",children:[k.length," completed"]})]})]}),(0,s.jsxs)("section",{className:"px-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white",children:"Recent Updates"}),(0,s.jsx)("button",{className:"text-sm font-bold text-primary-600",children:"View All"})]}),(0,s.jsx)("div",{className:"space-y-3 pb-8",children:[1,2].map(e=>(0,s.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-4 rounded-2xl border border-neutral-200 dark:border-neutral-800 shadow-sm flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-neutral-100 dark:bg-neutral-800 rounded-xl flex items-center justify-center text-neutral-400",children:(0,s.jsx)(c.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:"Monthly Report - Jan"}),(0,s.jsx)("p",{className:"text-xs text-neutral-500",children:"Shared on Feb 1, 2026"})]}),(0,s.jsx)("button",{className:"p-2 text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg",children:(0,s.jsx)(d,{className:"w-5 h-5"})})]},e))})]})]})}},2335:function(e,t,r){"use strict";r.d(t,{Su:function(){return o},av:function(){return c},b$:function(){return u},hI:function(){return i},lU:function(){return d}});var s=r(64090),n=r(58121),a=r(1221);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,l]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{c(!0);let r=(0,n.IO)((0,n.hJ)(a.db,e),...t),s=(0,n.cf)(r,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),l(t),c(!1)},t=>{console.error("Error fetching ".concat(e,":"),t),o(t.message),c(!1)});return()=>s()},[e]),{data:r,loading:i,error:d}}function i(){return l("events")}function c(){return l("clients")}function d(){return l("team_members")}function o(){return l("services")}function u(){return l("programs")}},1221:function(e,t,r){"use strict";r.d(t,{I:function(){return i},db:function(){return c}});var s=r(26142),n=r(27065),a=r(58121);let l=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyBLyN1jo8PpJ5OMtkEuC4auhuuviapB3Bs",authDomain:"tempo-app-2.firebaseapp.com",projectId:"tempo-app-2",storageBucket:"tempo-app-2.firebasestorage.app",messagingSenderId:"47813899076",appId:"1:47813899076:web:cd597912a0755195241d11"}):(0,s.C6)()[0],i=(0,n.v0)(l),c=(0,a.ad)(l)}},function(e){e.O(0,[358,139,373,258,792,971,69,744],function(){return e(e.s=14023)}),_N_E=e.O()}]);