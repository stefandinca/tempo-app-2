(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{66534:function(e,r,t){Promise.resolve().then(t.bind(t,60378))},98998:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},18994:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},60378:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var a=t(3827),s=t(64090),n=t(47907),l=t(8792),i=t(18628),d=t(98998),u=t(18994);function o(){let[e,r]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(!1),{signIn:h}=(0,i.useAuth)(),f=(0,n.useRouter)(),y=async r=>{r.preventDefault(),m(""),p(!0);try{await h(e,t),f.push("/")}catch(e){console.error(e),"auth/invalid-credential"===e.code?m("Invalid email or password."):m("Failed to sign in. Please try again.")}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-950 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-2xl",children:"T"})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-neutral-900 dark:text-white",children:"Sign in to TempoApp"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-neutral-600 dark:text-neutral-400",children:"Welcome back, please enter your details."})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[(0,a.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,a.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-neutral-300 dark:border-neutral-700 placeholder-neutral-500 text-neutral-900 dark:text-white dark:bg-neutral-800 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm transition-colors",placeholder:"Email address",value:e,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-neutral-300 dark:border-neutral-700 placeholder-neutral-500 text-neutral-900 dark:text-white dark:bg-neutral-800 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm transition-colors",placeholder:"Password",value:t,onChange:e=>o(e.target.value)})]})]}),c&&(0,a.jsx)("div",{className:"rounded-md bg-error-50 dark:bg-error-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-error-800 dark:text-error-200",children:c})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-900 dark:text-neutral-300",children:"Remember me"})]}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400",children:"Forgot your password?"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-70 disabled:cursor-not-allowed transition-colors",children:x?(0,a.jsx)(u.Z,{className:"w-5 h-5 animate-spin"}):"Sign in"})})]}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Are you a parent?"," ",(0,a.jsx)(l.default,{href:"/parent/",className:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400",children:"Access Parent Portal"})]})})]})})}},18628:function(e,r,t){"use strict";t.r(r),t.d(r,{AuthProvider:function(){return o},useAuth:function(){return c}});var a=t(3827),s=t(64090),n=t(27065),l=t(1221),i=t(58121),d=t(47907);let u=(0,s.createContext)({});function o(e){let{children:r}=e,[t,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(null),[x,p]=(0,s.useState)(null),[h,f]=(0,s.useState)(!0),y=(0,d.useRouter)();(0,s.useEffect)(()=>{let e=null,r=(0,n.Aj)(l.I8,async r=>{o(r),e&&(e(),e=null),r?e=(0,i.cf)((0,i.JU)(l.db,"team_members",r.uid),e=>{if(e.exists()){let r=e.data();m(r),p(r.role),f(!1)}else(0,i.cf)((0,i.JU)(l.db,"clients",r.uid),e=>{e.exists()?(m(e.data()),p("Parent")):(m(null),p(null)),f(!1)})}):(m(null),p(null),f(!1))});return()=>{r(),e&&e()}},[y]);let b=async(e,r)=>{await (0,n.e5)(l.I8,e,r)},j=async()=>{await (0,n.w7)(l.I8),y.push("/login")};return(0,a.jsx)(u.Provider,{value:{user:t,userData:c,userRole:x,loading:h,signIn:b,signOut:j},children:!h&&r})}let c=()=>(0,s.useContext)(u)},1221:function(e,r,t){"use strict";t.d(r,{Fw:function(){return o},I8:function(){return d},db:function(){return u}});var a=t(26142),s=t(27065),n=t(58121),l=t(76079);let i=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyBLyN1jo8PpJ5OMtkEuC4auhuuviapB3Bs",authDomain:"tempo-app-2.firebaseapp.com",projectId:"tempo-app-2",storageBucket:"tempo-app-2.firebasestorage.app",messagingSenderId:"47813899076",appId:"1:47813899076:web:cd597912a0755195241d11"}):(0,a.C6)()[0],d=(0,s.v0)(i),u=(0,n.ad)(i),o=(0,l.KL)(i)}},function(e){e.O(0,[358,139,872,901,971,69,744],function(){return e(e.s=66534)}),_N_E=e.O()}]);