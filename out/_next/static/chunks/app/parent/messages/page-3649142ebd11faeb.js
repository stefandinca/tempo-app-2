(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7875],{53320:function(e,l,n){Promise.resolve().then(n.bind(n,98703))},98703:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return h}});var a=n(3827),t=n(64090),s=n(30028),r=n(42612),i=n(63530),d=n(53311),c=n(75504),u=n(10207),f=n(47907);function h(){let e=(0,f.useSearchParams)().get("threadId"),{isAuthenticated:l,loading:n}=(0,u.jT)(),h=(0,f.useRouter)(),{threads:o,loading:x}=(0,d.KR)(),{createOrGetThread:v}=(0,d.qi)(),[j,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e&&m(e)},[e]),(0,t.useEffect)(()=>{n||l||h.push("/parent")},[n,l,h]);let w=async e=>{let l=await v(e);l&&(m(l),g(!1))},N=o.find(e=>e.id===j)||null;return n?(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden h-[calc(100dvh-64px)] lg:h-[calc(100vh-64px)] relative bg-white dark:bg-neutral-950",children:[(0,a.jsx)("div",{className:(0,c.W)("flex",j?"hidden lg:flex":"flex w-full lg:w-80"),children:(0,a.jsx)(s.Z,{threads:o,activeThreadId:j,onSelectThread:m,onNewChat:()=>g(!0)})}),(0,a.jsx)("div",{className:(0,c.W)("flex-1",j?"flex":"hidden lg:flex"),children:(0,a.jsx)(r.Z,{thread:N,onBack:()=>m(null)})}),(0,a.jsx)(i.Z,{isOpen:p,onClose:()=>g(!1),onStartChat:w})]})}}},function(e){e.O(0,[4358,139,5050,5245,6292,2971,8069,1744],function(){return e(e.s=53320)}),_N_E=e.O()}]);