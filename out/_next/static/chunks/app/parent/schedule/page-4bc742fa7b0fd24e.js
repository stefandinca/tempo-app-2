(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[691],{76081:function(e,t,s){Promise.resolve().then(s.bind(s,21275))},21275:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(3827),r=s(97307),n=s(57976),l=s(66912),i=s(2335),d=s(75504),c=s(64090),o=s(26654);function u(){let{data:e,sessions:t,loading:s,error:u}=(0,l.Ej)(),{data:x}=(0,i.lU)(),[m,h]=(0,c.useState)(null),[p,f]=(0,c.useState)(!1);if(s)return(0,a.jsx)(l.tu,{});if(u||!e)return(0,a.jsx)(l.tM,{message:u||"Could not load schedule."});let b=e=>{let t=(x||[]).find(t=>t.id===e);return!t&&e&&console.log("Schedule: Therapist with ID ".concat(e," not found in team list of ").concat((null==x?void 0:x.length)||0," members")),t},g=e=>new Date(e?e.seconds?1e3*e.seconds:e:0),j=t.reduce((e,t)=>{let s=g(t.startTime).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"});return e[s]||(e[s]=[]),e[s].push(t),e},{});return(0,a.jsxs)("div",{className:"p-4 space-y-6 animate-in fade-in slide-in-from-right-4 duration-500 pb-12",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:"Session Schedule"}),(0,a.jsx)("p",{className:"text-neutral-500 text-sm",children:"Upcoming and past therapy sessions"})]}),0===t.length?(0,a.jsxs)("div",{className:"py-20 text-center bg-white dark:bg-neutral-900 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-neutral-50 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r.Z,{className:"w-8 h-8 text-neutral-300"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"No sessions found"}),(0,a.jsx)("p",{className:"text-neutral-500 text-sm mt-1",children:"Schedule details will appear here soon."})]}):(0,a.jsx)("div",{className:"space-y-8",children:Object.entries(j).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest px-2",children:t}),(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>{let t=b(e.therapistId),s=g(e.startTime),r=s>new Date;return(0,a.jsx)("div",{onClick:()=>{h(e),f(!0)},className:(0,d.W)("bg-white dark:bg-neutral-900 p-4 rounded-2xl border transition-all shadow-sm cursor-pointer active:scale-[0.99]",r?"border-primary-100 dark:border-primary-900/30 hover:border-primary-300":"border-neutral-200 dark:border-neutral-800 opacity-80"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-neutral-300"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-neutral-500",children:[e.duration," min"]})]}),(0,a.jsx)("h4",{className:"font-bold text-neutral-900 dark:text-white truncate",children:e.type}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] text-white font-bold",style:{backgroundColor:(null==t?void 0:t.color)||"#ccc"},children:(null==t?void 0:t.initials)||"??"}),(0,a.jsx)("span",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-medium",children:(null==t?void 0:t.name)||"Assigned Therapist"})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-end gap-2",children:"completed"===e.status?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-[10px] font-bold text-success-600 bg-success-50 dark:bg-success-900/20 px-2 py-1 rounded-full uppercase tracking-wider",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3"}),"Completed"]}):r?(0,a.jsx)("button",{className:"text-[10px] font-bold text-primary-600 bg-primary-50 dark:bg-primary-900/20 px-3 py-1.5 rounded-full uppercase tracking-wider hover:bg-primary-100 transition-colors",children:"Confirm"}):(0,a.jsx)("span",{className:"text-[10px] font-bold text-neutral-400 bg-neutral-50 dark:bg-neutral-800 px-2 py-1 rounded-full uppercase tracking-wider",children:"Past"})})]})},e.id)})})]},t)})}),(0,a.jsx)(o.Z,{event:m,isOpen:p,onClose:()=>f(!1)})]})}}},function(e){e.O(0,[358,139,373,258,622,971,69,744],function(){return e(e.s=76081)}),_N_E=e.O()}]);