(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{20445:function(e,t,a){Promise.resolve().then(a.bind(a,68558))},37805:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},18994:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},68558:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(3827),n=a(64090),s=a(47907),l=a(8792);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a(87461).Z)("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var i=a(18994),o=a(37805),d=a(1221),u=a(58121),p=a(27065);function m(){let[e,t]=(0,n.useState)(""),[a,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)(""),f=(0,s.useRouter)(),g=(0,s.useSearchParams)();(0,n.useEffect)(()=>{let e=g.get("code");e&&t(e.toUpperCase())},[g]);let b=async t=>{if(t&&t.preventDefault(),e.length<4){x("Please enter a valid client code.");return}m(!0),x("");try{let t=(0,u.IO)((0,u.hJ)(d.db,"clients"),(0,u.ar)("clientCode","==",e.toUpperCase())),a=await (0,u.PL)(t);if(a.empty){x("Invalid client code. Please check and try again."),m(!1);return}let r=a.docs[0],n=r.data(),s=(await (0,p.XB)(d.I)).user.uid;await (0,u.r7)((0,u.JU)(d.db,"clients",r.id),{parentUids:(0,u.vr)(s)}),localStorage.setItem("parent_client_code",e.toUpperCase()),localStorage.setItem("parent_client_id",r.id),localStorage.setItem("parent_client_name",n.name),localStorage.setItem("parent_uid",s),console.log("[ParentLogin] Successfully authenticated with UID:",s),f.push("/parent/dashboard/")}catch(e){console.error("Verification error:",e),x("An error occurred. Please try again."),m(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 flex flex-col items-center justify-center p-4",children:[(0,r.jsx)("span",{className:"sr-only",children:"PARENT_LOGIN_PAGE_ACTIVE"}),(0,r.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-neutral-900 rounded-3xl shadow-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-8 sm:p-12 text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-2xl flex items-center justify-center text-primary-600 mb-6",children:(0,r.jsx)(c,{className:"w-8 h-8"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-2",children:"Parent Portal Access"}),(0,r.jsx)("p",{className:"text-neutral-500 text-sm mb-8",children:"Enter the unique client code provided by your clinic to access your child's therapy journey."}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("input",{type:"text",placeholder:"Enter Client Code",className:"w-full px-6 py-4 bg-neutral-100 dark:bg-neutral-800 border-none rounded-2xl text-center text-xl font-mono tracking-[0.5em] uppercase focus:ring-2 focus:ring-primary-500 transition-all placeholder:text-neutral-400 placeholder:tracking-normal placeholder:font-sans placeholder:text-base",value:e,onChange:e=>t(e.target.value.slice(0,8)),maxLength:8,autoFocus:!0})}),h&&(0,r.jsx)("p",{className:"text-error-500 text-sm",children:h}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white rounded-2xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary-500/20 disabled:opacity-70",children:a?(0,r.jsx)(i.Z,{className:"w-5 h-5 animate-spin"}):(0,r.jsxs)(r.Fragment,{children:["Access Portal",(0,r.jsx)(o.Z,{className:"w-5 h-5"})]})})]})]}),(0,r.jsx)("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 p-6 text-center border-t border-neutral-100 dark:border-neutral-800",children:(0,r.jsx)("p",{className:"text-xs text-neutral-500 leading-relaxed",children:"Don't have a code? Please contact your clinic administrator or therapy coordinator."})})]}),(0,r.jsx)(l.default,{href:"/login/",className:"mt-8 text-sm text-neutral-500 hover:text-primary-600 transition-colors",children:"Staff Login"})]})}function h(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-950 flex items-center justify-center",children:(0,r.jsx)(i.Z,{className:"w-8 h-8 animate-spin text-primary-500"})}),children:(0,r.jsx)(m,{})})}},1221:function(e,t,a){"use strict";a.d(t,{I:function(){return c},db:function(){return i}});var r=a(26142),n=a(27065),s=a(58121);let l=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyBLyN1jo8PpJ5OMtkEuC4auhuuviapB3Bs",authDomain:"tempo-app-2.firebaseapp.com",projectId:"tempo-app-2",storageBucket:"tempo-app-2.firebasestorage.app",messagingSenderId:"47813899076",appId:"1:47813899076:web:cd597912a0755195241d11"}):(0,r.C6)()[0],c=(0,n.v0)(l),i=(0,s.ad)(l)}},function(e){e.O(0,[358,139,373,258,901,971,69,744],function(){return e(e.s=20445)}),_N_E=e.O()}]);