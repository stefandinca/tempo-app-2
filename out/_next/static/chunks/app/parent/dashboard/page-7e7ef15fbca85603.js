(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{14023:function(e,t,r){Promise.resolve().then(r.bind(r,11957))},43345:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},46578:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},37805:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},10527:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},29733:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},11957:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(3827),s=r(97307),n=r(37805),l=r(26490),i=r(10527),o=r(29733),d=r(8792),c=r(66912),u=r(2335),x=r(17273),m=r(82924),h=r(64090),p=r(75504);function g(){var e,t;let{data:r,sessions:g,loading:b,error:f}=(0,c.Ej)(),{data:w}=(0,u.lU)(),{data:y,loading:j}=(0,u.wm)((null==r?void 0:r.id)||""),[N,v]=(0,h.useState)(null),[k,Z]=(0,h.useState)(!1),C=(0,h.useMemo)(()=>y.filter(e=>"issued"===e.status||"overdue"===e.status).reduce((e,t)=>e+t.total,0),[y]);if(b||j)return(0,a.jsx)(c.tu,{});if(f||!r)return(0,a.jsx)(c.tM,{message:f||"Could not load child data."});let S=e=>new Date(e?e.seconds?1e3*e.seconds:e:0),T=new Date,D=(g||[]).filter(e=>S(e.startTime)>=T).sort((e,t)=>S(e.startTime).getTime()-S(t.startTime).getTime())[0],M=D?(t=D.therapistId,(w||[]).find(e=>e.id===t)):null,A=new Date().getMonth(),I=(g||[]).filter(e=>S(e.startTime).getMonth()===A),_=I.filter(e=>"completed"===e.status);return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 font-sans",children:[(0,a.jsxs)("section",{className:"px-4 py-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:["\uD83D\uDC4B Welcome back, ",(null===(e=r.parentName)||void 0===e?void 0:e.split(" ")[0])||"Parent","!"]}),(0,a.jsxs)("p",{className:"text-neutral-500 text-sm mt-1",children:["Viewing portal for: ",(0,a.jsx)("span",{className:"font-bold text-primary-600",children:r.name})]})]}),(0,a.jsx)("section",{className:"px-4",children:D?(0,a.jsxs)("div",{onClick:()=>{v(D),Z(!0)},className:"bg-primary-600 rounded-3xl p-6 text-white shadow-lg shadow-primary-500/30 relative overflow-hidden cursor-pointer active:scale-[0.98] transition-transform",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:(0,a.jsx)(s.Z,{className:"w-24 h-24"})}),(0,a.jsx)("p",{className:"text-primary-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Next Session"}),(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:[S(D.startTime).toLocaleDateString("en-US",{weekday:"long"}),", ",S(D.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/10",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center font-bold",style:{backgroundColor:(null==M?void 0:M.color)||"rgba(255,255,255,0.2)"},children:(null==M?void 0:M.initials)||"??"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold",children:D.type}),(0,a.jsxs)("p",{className:"text-xs text-primary-100",children:["with ",(null==M?void 0:M.name)||"Assigned Therapist"]})]}),(0,a.jsx)("div",{className:"ml-auto p-2 bg-white text-primary-600 rounded-xl",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})]})]}):(0,a.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-3xl p-8 text-center border border-dashed border-neutral-300 dark:border-neutral-700",children:[(0,a.jsx)(l.Z,{className:"w-10 h-10 text-neutral-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-neutral-500 font-medium",children:"No upcoming sessions scheduled."})]})}),(0,a.jsxs)("section",{className:"px-4 grid grid-cols-2 gap-4",children:[(0,a.jsxs)(d.default,{href:"/parent/billing/",className:(0,p.W)("col-span-2 p-5 rounded-3xl border transition-all shadow-sm flex items-center justify-between group",C>0?"bg-warning-50 border-warning-100 dark:bg-warning-900/10 dark:border-warning-900/30":"bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:(0,p.W)("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",C>0?"bg-warning-100 text-warning-600":"bg-neutral-100 text-neutral-400"),children:(0,a.jsx)(i.Z,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-neutral-500 text-xs font-medium uppercase tracking-widest",children:"Balance Due"}),(0,a.jsxs)("h3",{className:"text-2xl font-black text-neutral-900 dark:text-white",children:[C.toFixed(2)," RON"]})]})]}),(0,a.jsx)("div",{className:"p-2 bg-white dark:bg-neutral-800 rounded-xl shadow-sm group-hover:translate-x-1 transition-transform",children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-neutral-400"})})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-success-50 dark:bg-success-900/20 rounded-xl flex items-center justify-center text-success-600 mb-3",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})}),(0,a.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Overall Progress"}),(0,a.jsxs)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:[r.progress||0,"%"]}),(0,a.jsx)("p",{className:"text-[10px] text-success-600 font-bold mt-1",children:"+4% this month"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-secondary-50 dark:bg-secondary-900/20 rounded-xl flex items-center justify-center text-secondary-600 mb-3",children:(0,a.jsx)(s.Z,{className:"w-5 h-5"})}),(0,a.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Sessions (Feb)"}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:I.length}),(0,a.jsxs)("p",{className:"text-[10px] text-neutral-400 font-bold mt-1",children:[_.length," completed"]})]})]}),(0,a.jsx)(m.Z,{clientName:r.name}),(0,a.jsx)(x.Z,{event:N,isOpen:k,onClose:()=>Z(!1)})]})}},82924:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var a=r(3827),s=r(64090),n=r(8792),l=r(97307),i=r(46578),o=r(10527),d=r(69475),c=r(43345),u=r(37805),x=r(14589);let m=[{id:"parent-1",recipientId:"parent",recipientRole:"parent",type:"schedule_updated",category:"schedule",title:"Schedule Change",message:"Tomorrow's session has been moved to 10:30 AM",createdAt:new Date().toISOString(),read:!1,sourceType:"event",actions:[{label:"View Schedule",type:"navigate",route:"/parent/schedule/"}]},{id:"parent-2",recipientId:"parent",recipientRole:"parent",type:"attendance_logged",category:"attendance",title:"Session Summary",message:"Great session today! Attendance: Present, Progress: Excellent",createdAt:new Date(Date.now()-864e5).toISOString(),read:!1,sourceType:"event",actions:[{label:"View Progress",type:"navigate",route:"/parent/progress/"}]},{id:"parent-3",recipientId:"parent",recipientRole:"parent",type:"billing_generated",category:"billing",title:"Invoice Ready",message:"Your February invoice is now available",createdAt:new Date(Date.now()-1728e5).toISOString(),read:!0,sourceType:"billing",actions:[{label:"View Invoice",type:"navigate",route:"/parent/billing/"}]}],h={schedule:l.Z,attendance:i.Z,billing:o.Z,client:d.Z,team:d.Z,system:c.Z};function p(e){let{clientName:t}=e,r=(0,s.useMemo)(()=>m.slice(0,3),[]);return 0===r.length?null:(0,a.jsxs)("section",{className:"px-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white",children:"Recent Alerts"}),(0,a.jsx)(n.default,{href:"/parent/schedule/",className:"text-sm font-bold text-primary-600 hover:text-primary-700 dark:hover:text-primary-400",children:"View All"})]}),(0,a.jsx)("div",{className:"space-y-3 pb-8",children:r.map(e=>{var t,r,s;let l=h[e.category]||c.Z,i=x.p[e.category],o=(null===(r=e.actions)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.route)||"/parent/schedule/";return(0,a.jsxs)(n.default,{href:o,className:"bg-white dark:bg-neutral-900 p-4 rounded-2xl border border-neutral-200 dark:border-neutral-800 shadow-sm flex items-start gap-4 hover:border-primary-200 dark:hover:border-primary-800 transition-colors group",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ".concat(i.bgColor),children:(0,a.jsx)(l,{className:"w-6 h-6 ".concat(i.color)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 whitespace-nowrap",children:(0,x.S)(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-xs text-neutral-500 line-clamp-2",children:e.message}),(null===(s=e.actions)||void 0===s?void 0:s[0])&&(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-primary-600 dark:text-primary-400 group-hover:underline",children:[e.actions[0].label,(0,a.jsx)(u.Z,{className:"w-3 h-3"})]})]})]},e.id)})})]})}},14589:function(e,t,r){"use strict";r.d(t,{S:function(){return s},p:function(){return a}});let a={schedule:{label:"Schedule",color:"text-primary-500",bgColor:"bg-primary-100 dark:bg-primary-900/30",iconName:"Calendar"},attendance:{label:"Attendance",color:"text-success-500",bgColor:"bg-success-100 dark:bg-success-900/30",iconName:"CheckCircle"},team:{label:"Team",color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",iconName:"Users"},billing:{label:"Billing",color:"text-warning-500",bgColor:"bg-warning-100 dark:bg-warning-900/30",iconName:"CreditCard"},client:{label:"Client",color:"text-teal-500",bgColor:"bg-teal-100 dark:bg-teal-900/30",iconName:"User"},system:{label:"System",color:"text-error-500",bgColor:"bg-error-100 dark:bg-error-900/30",iconName:"AlertTriangle"}};function s(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/1e3),a=Math.floor(r/60),s=Math.floor(a/60),n=Math.floor(s/24);return r<60?"Just now":a<60?"".concat(a,"m ago"):s<24?"".concat(s,"h ago"):1===n?"Yesterday":n<7?"".concat(n,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}}},function(e){e.O(0,[358,139,373,683,792,993,971,69,744],function(){return e(e.s=14023)}),_N_E=e.O()}]);