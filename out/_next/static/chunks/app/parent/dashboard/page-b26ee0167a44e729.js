(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{14023:function(e,t,s){Promise.resolve().then(s.bind(s,11957))},8967:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(87461).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},37805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(87461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},10527:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(87461).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},29733:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(87461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},11957:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(3827),a=s(97307),n=s(37805),l=s(26490),i=s(10527),d=s(29733),c=s(69475),o=s(8967),x=s(8792),u=s(66912),m=s(2335),h=s(17273),p=s(64090),b=s(75504);function f(){var e,t;let{data:s,sessions:f,services:g,loading:j,error:w}=(0,u.Ej)(),{data:N}=(0,m.lU)(),[v,k]=(0,p.useState)(null),[y,Z]=(0,p.useState)(!1);if(j)return(0,r.jsx)(u.tu,{});if(w||!s)return(0,r.jsx)(u.tM,{message:w||"Could not load child data."});let T=e=>(g||[]).find(t=>t.id===e),C=(f||[]).filter(e=>"completed"===e.status&&("present"===e.attendance||"absent"===e.attendance)).reduce((e,t)=>{let s=T(t.type);if(null==s?void 0:s.isBillable){let r=s.basePrice||0;return e+t.duration/60*r}return e},0),D=void 0!==s.currentBalance?s.currentBalance:C,S=e=>new Date(e?e.seconds?1e3*e.seconds:e:0),M=new Date,_=(f||[]).filter(e=>S(e.startTime)>=M).sort((e,t)=>S(e.startTime).getTime()-S(t.startTime).getTime())[0],B=_?(t=_.therapistId,(N||[]).find(e=>e.id===t)):null,O=new Date().getMonth(),R=(f||[]).filter(e=>S(e.startTime).getMonth()===O),U=R.filter(e=>"completed"===e.status);return(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 font-sans",children:[(0,r.jsxs)("section",{className:"px-4 py-6",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:["\uD83D\uDC4B Welcome back, ",(null===(e=s.parentName)||void 0===e?void 0:e.split(" ")[0])||"Parent","!"]}),(0,r.jsxs)("p",{className:"text-neutral-500 text-sm mt-1",children:["Viewing portal for: ",(0,r.jsx)("span",{className:"font-bold text-primary-600",children:s.name})]})]}),(0,r.jsx)("section",{className:"px-4",children:_?(0,r.jsxs)("div",{onClick:()=>{k(_),Z(!0)},className:"bg-primary-600 rounded-3xl p-6 text-white shadow-lg shadow-primary-500/30 relative overflow-hidden cursor-pointer active:scale-[0.98] transition-transform",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:(0,r.jsx)(a.Z,{className:"w-24 h-24"})}),(0,r.jsx)("p",{className:"text-primary-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Next Session"}),(0,r.jsxs)("h2",{className:"text-xl font-bold mb-4",children:[S(_.startTime).toLocaleDateString("en-US",{weekday:"long"}),", ",S(_.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 bg-white/10 backdrop-blur-md rounded-2xl p-3 border border-white/10",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center font-bold",style:{backgroundColor:(null==B?void 0:B.color)||"rgba(255,255,255,0.2)"},children:(null==B?void 0:B.initials)||"??"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-bold",children:_.type}),(0,r.jsxs)("p",{className:"text-xs text-primary-100",children:["with ",(null==B?void 0:B.name)||"Assigned Therapist"]})]}),(0,r.jsx)("div",{className:"ml-auto p-2 bg-white text-primary-600 rounded-xl",children:(0,r.jsx)(n.Z,{className:"w-5 h-5"})})]})]}):(0,r.jsxs)("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-3xl p-8 text-center border border-dashed border-neutral-300 dark:border-neutral-700",children:[(0,r.jsx)(l.Z,{className:"w-10 h-10 text-neutral-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-neutral-500 font-medium",children:"No upcoming sessions scheduled."})]})}),(0,r.jsxs)("section",{className:"px-4 grid grid-cols-2 gap-4",children:[(0,r.jsxs)(x.default,{href:"/parent/billing/",className:(0,b.W)("col-span-2 p-5 rounded-3xl border transition-all shadow-sm flex items-center justify-between group",D>0?"bg-warning-50 border-warning-100 dark:bg-warning-900/10 dark:border-warning-900/30":"bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:(0,b.W)("w-12 h-12 rounded-2xl flex items-center justify-center transition-colors",D>0?"bg-warning-100 text-warning-600":"bg-neutral-100 text-neutral-400"),children:(0,r.jsx)(i.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-neutral-500 text-xs font-medium uppercase tracking-widest",children:"Balance Due"}),(0,r.jsxs)("h3",{className:"text-2xl font-black text-neutral-900 dark:text-white",children:[D.toFixed(2)," RON"]})]})]}),(0,r.jsx)("div",{className:"p-2 bg-white dark:bg-neutral-800 rounded-xl shadow-sm group-hover:translate-x-1 transition-transform",children:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-neutral-400"})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-success-50 dark:bg-success-900/20 rounded-xl flex items-center justify-center text-success-600 mb-3",children:(0,r.jsx)(d.Z,{className:"w-5 h-5"})}),(0,r.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Overall Progress"}),(0,r.jsxs)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:[s.progress||0,"%"]}),(0,r.jsx)("p",{className:"text-[10px] text-success-600 font-bold mt-1",children:"+4% this month"})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-5 rounded-3xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-secondary-50 dark:bg-secondary-900/20 rounded-xl flex items-center justify-center text-secondary-600 mb-3",children:(0,r.jsx)(a.Z,{className:"w-5 h-5"})}),(0,r.jsx)("p",{className:"text-neutral-500 text-xs font-medium",children:"Sessions (Feb)"}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white mt-1",children:R.length}),(0,r.jsxs)("p",{className:"text-[10px] text-neutral-400 font-bold mt-1",children:[U.length," completed"]})]})]}),(0,r.jsxs)("section",{className:"px-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white",children:"Recent Updates"}),(0,r.jsx)("button",{className:"text-sm font-bold text-primary-600",children:"View All"})]}),(0,r.jsx)("div",{className:"space-y-3 pb-8",children:[1,2].map(e=>(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-4 rounded-2xl border border-neutral-200 dark:border-neutral-800 shadow-sm flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-neutral-100 dark:bg-neutral-800 rounded-xl flex items-center justify-center text-neutral-400",children:(0,r.jsx)(c.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-white",children:"Monthly Report - Jan"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:"Shared on Feb 1, 2026"})]}),(0,r.jsx)("button",{className:"p-2 text-primary-600 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-5 h-5"})})]},e))})]}),(0,r.jsx)(h.Z,{event:v,isOpen:y,onClose:()=>Z(!1)})]})}}},function(e){e.O(0,[358,139,373,683,792,993,971,69,744],function(){return e(e.s=14023)}),_N_E=e.O()}]);