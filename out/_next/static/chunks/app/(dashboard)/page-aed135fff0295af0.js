(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1130],{56734:function(e,r,s){Promise.resolve().then(s.bind(s,90178))},18025:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},77724:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]])},10775:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},29733:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},34059:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},90178:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return j}});var a=s(3827),t=s(64090),n=s(34059),l=s(29733),i=s(46578),d=s(10775);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s(87461).Z)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);var o=s(27271),u=s(18025),m=s(77724),x=s(8792),h=s(25678),g=s(18628),b=s(81308),f=s(83390);function j(){let{events:e,clients:r,teamMembers:s}=(0,h.useData)(),{user:x,userRole:j}=(0,g.useAuth)(),w=e.loading||r.loading||s.loading,[k,y]=(0,t.useState)(null),[C,Z]=(0,t.useState)(!1),T=e=>r.data.find(r=>r.id===e)||{name:"Unknown Client"},M=e=>s.data.find(r=>r.id===e)||{name:"Unknown",initials:"?",color:"#ccc"},S=new Date,A=e.data.filter(e=>{let r=new Date(e.startTime);return r.getDate()===S.getDate()&&r.getMonth()===S.getMonth()&&r.getFullYear()===S.getFullYear()});return("Therapist"===j&&x&&(A=A.filter(e=>e.therapistId===x.uid)),A.sort((e,r)=>new Date(e.startTime).getTime()-new Date(r.startTime).getTime()),w)?(0,a.jsxs)("main",{className:"flex-1 p-4 lg:p-6 space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,r)=>(0,a.jsx)(b.M0,{},r))}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("div",{className:"h-5 w-32 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:Array.from({length:5}).map((e,r)=>(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"w-16 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-12 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-10 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse mt-1.5"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-28 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-5 w-16 bg-neutral-200 dark:bg-neutral-700 rounded-full animate-pulse"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-20 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]})]})]})},r))})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("div",{className:"h-5 w-28 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-14 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:Array.from({length:3}).map((e,r)=>(0,a.jsxs)("div",{className:"p-4 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-full bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]})]},r))})]})]})]}):(0,a.jsxs)("main",{className:"flex-1 p-4 lg:p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)(p,{title:"Active Clients",value:r.data.length.toString(),trend:"+3 this month",icon:n.Z,trendIcon:l.Z,trendColor:"text-success-600",iconBg:"bg-primary-100 dark:bg-primary-900/30",iconColor:"text-primary-600"}),(0,a.jsx)(p,{title:"Attendance Rate",value:"94%",trend:"-2% vs last week",icon:i.Z,trendIcon:d.Z,trendColor:"text-error-600",iconBg:"bg-warning-100 dark:bg-warning-900/30",iconColor:"text-warning-600"}),(0,a.jsx)(p,{title:"Sessions Today",value:A.length.toString(),trend:"Same as yesterday",icon:c,trendIcon:o.Z,trendColor:"text-neutral-500",iconBg:"bg-secondary-100 dark:bg-secondary-900/30",iconColor:"text-secondary-600"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Today's Schedule"}),(0,a.jsxs)("button",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium flex items-center gap-1 hover:underline",children:["View All ",(0,a.jsx)(u.Z,{className:"w-4 h-4"})]})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:0===A.length?(0,a.jsx)("div",{className:"p-8 text-center text-neutral-500",children:"No sessions scheduled for today."}):A.map(e=>{let r=M(e.therapistId),s=T(e.clientId),t=new Date(e.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),n=new Date(e.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,a.jsx)(v,{time:t,endTime:n,client:s.name,clientId:s.id,type:e.type,therapist:r.name,therapistId:r.id,initials:r.initials,color:r.color,status:e.status,showActions:"in-progress"===e.status,onClick:()=>{y(e),Z(!0)}},e.id)})})]})}),(0,a.jsx)(f.Z,{event:k,isOpen:C,onClose:()=>Z(!1)}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Recent Activity"}),(0,a.jsx)("button",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium hover:underline",children:"View All"})]}),(0,a.jsxs)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:[(0,a.jsx)(N,{user:"Dr. Maria Garcia",action:"logged attendance",target:"John Smith",time:"5 min ago",icon:i.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"}),(0,a.jsx)(N,{user:"Dr. Andrei Ionescu",action:"created event",target:"Team Meeting",time:"15 min ago",icon:m.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"}),(0,a.jsx)(N,{user:"Dr. Elena Popescu",action:"updated progress",target:"Sara Lee",time:"1 hour ago",icon:l.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"})]})]})})]})]})}function p(e){let{title:r,value:s,trend:t,icon:n,trendIcon:l,trendColor:i,iconBg:d,iconColor:c}=e;return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:r}),(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(d," group-hover:scale-110 transition-transform"),children:(0,a.jsx)(n,{className:"w-4 h-4 ".concat(c)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:s}),(0,a.jsxs)("p",{className:"text-sm flex items-center gap-1 mt-1 ".concat(i),children:[(0,a.jsx)(l,{className:"w-3 h-3"}),t]})]})]})}function v(e){let{time:r,endTime:s,client:t,clientId:n,type:l,therapist:i,therapistId:d,initials:c,color:o,status:u,showActions:m,onClick:h}=e,g={completed:"bg-success-500","in-progress":"bg-warning-500",upcoming:"bg-neutral-300 dark:bg-neutral-600"};return(0,a.jsx)("div",{onClick:h,className:"p-4 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors cursor-pointer group",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"text-sm text-neutral-500 dark:text-neutral-400 w-16 flex-shrink-0",children:[(0,a.jsx)("div",{className:"font-medium text-neutral-900 dark:text-white",children:r}),(0,a.jsx)("div",{className:"text-xs",children:s})]}),(0,a.jsx)("div",{className:"mt-1.5 flex-shrink-0",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(g[u]||g.upcoming)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(x.default,{href:n?"/clients/profile?id=".concat(n):"#",onClick:e=>e.stopPropagation(),className:"font-medium text-neutral-900 dark:text-white truncate hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:t}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded-full border border-neutral-200 dark:border-neutral-700",children:l})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:(0,a.jsxs)(x.default,{href:"/team/",onClick:e=>e.stopPropagation(),className:"flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[10px] text-white font-medium",style:{backgroundColor:o||"#4A90E2"},children:(0,a.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{backgroundColor:o},children:c})}),(0,a.jsx)("span",{children:i})]})}),m&&(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2 animate-in slide-in-from-top-2 duration-200",children:[(0,a.jsx)("span",{className:"text-xs text-neutral-500 mr-1",children:"Attendance:"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"px-3 py-1 text-xs rounded-full bg-neutral-100 dark:bg-neutral-800 hover:bg-success-100 dark:hover:bg-success-900/30 hover:text-success-700 text-neutral-600 dark:text-neutral-400 transition-colors border border-neutral-200 dark:border-neutral-700",children:"Present"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"px-3 py-1 text-xs rounded-full bg-neutral-100 dark:bg-neutral-800 hover:bg-error-100 dark:hover:bg-error-900/30 hover:text-error-700 text-neutral-600 dark:text-neutral-400 transition-colors border border-neutral-200 dark:border-neutral-700",children:"Absent"})]})]})]})})}function N(e){let{user:r,action:s,target:t,time:n,icon:l,iconColor:i,iconBg:d,userHref:c,targetHref:o}=e;return(0,a.jsxs)("div",{className:"p-4 flex items-start gap-3 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 ".concat(d," rounded-full flex items-center justify-center flex-shrink-0"),children:(0,a.jsx)(l,{className:"w-4 h-4 ".concat(i)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm text-neutral-900 dark:text-white",children:[(0,a.jsx)(x.default,{href:c||"/team/",className:"font-medium hover:text-primary-600 transition-colors",children:r}),(0,a.jsxs)("span",{className:"text-neutral-500 dark:text-neutral-400",children:[" ",s," "]}),(0,a.jsx)(x.default,{href:o||"/clients/",className:"font-medium hover:text-primary-600 transition-colors",children:t})]}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-0.5",children:n})]})]})}},81308:function(e,r,s){"use strict";s.d(r,{Kx:function(){return d},L4:function(){return i},M0:function(){return c},zY:function(){return l}});var a=s(3827),t=s(75504);function n(e){let{className:r}=e;return(0,a.jsx)("div",{className:(0,t.W)("animate-pulse bg-neutral-200 dark:bg-neutral-700 rounded",r)})}function l(){return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-5 flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n,{className:"w-12 h-12 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n,{className:"h-5 w-32 mb-2"}),(0,a.jsx)(n,{className:"h-3 w-24"})]})]}),(0,a.jsx)(n,{className:"w-8 h-8 rounded-lg"})]}),(0,a.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n,{className:"w-4 h-4 rounded"}),(0,a.jsx)(n,{className:"w-5 h-5 rounded-full"}),(0,a.jsx)(n,{className:"h-4 w-28"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n,{className:"w-4 h-4 rounded"}),(0,a.jsx)(n,{className:"h-4 w-24"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n,{className:"w-4 h-4 rounded"}),(0,a.jsx)(n,{className:"h-4 w-36"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,a.jsx)(n,{className:"h-3 w-24"}),(0,a.jsx)(n,{className:"h-3 w-8"})]}),(0,a.jsx)(n,{className:"h-2 w-full rounded-full"})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-4 border-t border-neutral-100 dark:border-neutral-800 flex items-center gap-3",children:[(0,a.jsx)(n,{className:"flex-1 h-10 rounded-xl"}),(0,a.jsx)(n,{className:"flex-1 h-10 rounded-xl"})]})]})}function i(){return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-5",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n,{className:"w-12 h-12 rounded-xl"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n,{className:"h-5 w-36 mb-2"}),(0,a.jsx)(n,{className:"h-3 w-20"})]})]}),(0,a.jsx)(n,{className:"w-8 h-8 rounded-lg"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n,{className:"h-4 w-16"}),(0,a.jsx)(n,{className:"h-6 w-20 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n,{className:"h-4 w-20"}),(0,a.jsx)(n,{className:"h-5 w-24"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n,{className:"h-4 w-28"}),(0,a.jsx)(n,{className:"h-4 w-8"})]})]}),(0,a.jsx)("div",{className:"mt-5 pt-4 border-t border-neutral-100 dark:border-neutral-800",children:(0,a.jsx)(n,{className:"h-10 w-full rounded-xl"})})]})}function d(){return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-5",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsx)(n,{className:"w-14 h-14 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n,{className:"h-5 w-32 mb-2"}),(0,a.jsx)(n,{className:"h-4 w-24 mb-1"}),(0,a.jsx)(n,{className:"h-3 w-40"})]}),(0,a.jsx)(n,{className:"w-8 h-8 rounded-lg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 rounded-xl p-3",children:[(0,a.jsx)(n,{className:"h-3 w-16 mb-2"}),(0,a.jsx)(n,{className:"h-6 w-12"})]}),(0,a.jsxs)("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 rounded-xl p-3",children:[(0,a.jsx)(n,{className:"h-3 w-16 mb-2"}),(0,a.jsx)(n,{className:"h-6 w-12"})]})]}),(0,a.jsx)(n,{className:"h-10 w-full rounded-xl"})]})}function c(){return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-6 rounded-2xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(n,{className:"h-4 w-24"}),(0,a.jsx)(n,{className:"w-9 h-9 rounded-lg"})]}),(0,a.jsx)(n,{className:"h-9 w-32 mb-1"}),(0,a.jsx)(n,{className:"h-3 w-20"})]})}},25678:function(e,r,s){"use strict";s.r(r),s.d(r,{DataProvider:function(){return c},useData:function(){return o}});var a=s(3827),t=s(64090),n=s(2335),l=s(58121),i=s(1221);let d=(0,t.createContext)({});function c(e){let{children:r}=e,s=(0,n.av)(),c=(0,n.lU)(),o=(0,n.hI)(),u=(0,n.Su)(),m=(0,n.b$)(),[x,h]=(0,t.useState)({}),[g,b]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(s.loading||0===s.data.length){b(s.loading);return}let e=[],r={};s.data.forEach(e=>{r[e.id]=null});let a=0,t=s.data.length;return s.data.forEach(r=>{let s=(0,l.IO)((0,l.hJ)(i.db,"clients",r.id,"interventionPlans")),n=(0,l.cf)(s,e=>{let s=[];e.forEach(e=>{s.push({id:e.id,...e.data()})});let n=s.find(e=>"active"===e.status)||null;h(e=>({...e,[r.id]:n})),++a>=t&&b(!1)},e=>{console.error("Error fetching plans for ".concat(r.id,":"),e),++a>=t&&b(!1)});e.push(n)}),()=>{e.forEach(e=>e())}},[s.data,s.loading]);let f=(0,t.useMemo)(()=>({getTeamMember:e=>c.data.find(r=>r.id===e),getClient:e=>s.data.find(r=>r.id===e),getService:e=>u.data.find(r=>r.id===e),getClientEvents:e=>o.data.filter(r=>r.clientId===e),getClientActivePlan:e=>x[e]||null}),[c.data,s.data,u.data,o.data,x]),j={clients:s,teamMembers:c,events:o,services:u,programs:m,activePlans:x,activePlansLoading:g,...f};return(0,a.jsx)(d.Provider,{value:j,children:r})}let o=()=>(0,t.useContext)(d)},19685:function(e,r,s){"use strict";s.r(r),s.d(r,{ToastProvider:function(){return b},useToast:function(){return f}});var a=s(3827),t=s(64090),n=s(89542),l=s(46578),i=s(98998),d=s(61524),c=s(28814),o=s(52235),u=s(75504);let m={success:l.Z,error:i.Z,warning:d.Z,info:c.Z},x={success:"bg-success-500 border-success-600 text-white",error:"bg-error-500 border-error-600 text-white",warning:"bg-warning-500 border-warning-600 text-white",info:"bg-primary-500 border-primary-600 text-white"};function h(e){let{id:r,message:s,type:n,duration:l=5e3,onDismiss:i}=e,d=m[n];return(0,t.useEffect)(()=>{console.log("Toast mounted:",r);let e=setTimeout(()=>{i(r)},l);return()=>clearTimeout(e)},[l,r,i]),(0,a.jsxs)("div",{className:(0,u.W)("flex items-start gap-3 p-4 rounded-lg shadow-lg border w-80 pointer-events-auto z-[9999]",x[n]),role:"alert",children:[(0,a.jsx)(d,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"flex-1 text-sm font-medium",children:s}),(0,a.jsx)("button",{onClick:()=>i(r),className:"text-white/80 hover:text-white transition-colors",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]})}let g=(0,t.createContext)(void 0);function b(e){let{children:r}=e,[s,l]=(0,t.useState)([]),[i,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{d(!0)},[]);let c=(0,t.useCallback)(e=>{l(r=>r.filter(r=>r.id!==e))},[]),o=(0,t.useCallback)(function(e,r){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;console.log("Showing toast:",e,r);let a=Math.random().toString(36).substring(2,9);l(t=>[...t,{id:a,message:e,type:r,duration:s,onDismiss:c}])},[c]),u=(0,t.useCallback)((e,r)=>o(e,"success",r),[o]),m=(0,t.useCallback)((e,r)=>o(e,"error",r),[o]),x=(0,t.useCallback)((e,r)=>o(e,"warning",r),[o]),b=(0,t.useCallback)((e,r)=>o(e,"info",r),[o]);return(0,a.jsxs)(g.Provider,{value:{showToast:o,success:u,error:m,warning:x,info:b},children:[r,i&&"undefined"!=typeof document&&(0,n.createPortal)((0,a.jsx)("div",{className:"fixed top-4 right-4 flex flex-col gap-2 max-h-screen pointer-events-none",style:{zIndex:999999},children:s.map(e=>(0,a.jsx)("div",{className:"pointer-events-auto animate-in slide-in-from-right-full fade-in duration-300",children:(0,a.jsx)(h,{...e})},e.id))}),document.body)]})}function f(){let e=(0,t.useContext)(g);if(!e)throw Error("useToast must be used within a ToastProvider");return e}}},function(e){e.O(0,[4358,139,5050,901,5245,5676,2971,8069,1744],function(){return e(e.s=56734)}),_N_E=e.O()}]);