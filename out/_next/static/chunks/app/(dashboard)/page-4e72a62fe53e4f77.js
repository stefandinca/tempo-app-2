(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{56734:function(e,t,r){Promise.resolve().then(r.bind(r,43253))},77724:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]])},48219:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},10775:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},29733:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},34059:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},43253:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(3827),n=r(64090),s=r(48219),i=r(29733),l=r(34059),d=r(46578),o=r(10775),c=r(87461);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,c.Z)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);var m=r(27271);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,c.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var x=r(77724),g=r(8792),f=r(25678),p=r(81308),b=r(83390);function v(){let{events:e,clients:t,teamMembers:r}=(0,f.useData)(),c=e.loading||t.loading||r.loading,[g,v]=(0,n.useState)(null),[w,N]=(0,n.useState)(!1),S=e=>t.data.find(t=>t.id===e)||{name:"Unknown Client"},C=e=>r.data.find(t=>t.id===e)||{name:"Unknown",initials:"?",color:"#ccc"},E=new Date,I=e.data.filter(e=>{let t=new Date(e.startTime);return t.getDate()===E.getDate()&&t.getMonth()===E.getMonth()&&t.getFullYear()===E.getFullYear()}).sort((e,t)=>new Date(e.startTime).getTime()-new Date(t.startTime).getTime());return c?(0,a.jsxs)("main",{className:"flex-1 p-4 lg:p-6 space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)(p.M0,{},t))}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("div",{className:"h-5 w-32 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"w-16 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-12 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-10 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse mt-1.5"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-28 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-5 w-16 bg-neutral-200 dark:bg-neutral-700 rounded-full animate-pulse"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-20 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]})]})]})},t))})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("div",{className:"h-5 w-28 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-14 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:Array.from({length:3}).map((e,t)=>(0,a.jsxs)("div",{className:"p-4 flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-200 dark:bg-neutral-700 animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-full bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-neutral-200 dark:bg-neutral-700 rounded animate-pulse"})]})]},t))})]})]})]}):(0,a.jsxs)("main",{className:"flex-1 p-4 lg:p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(k,{title:"Today's Revenue",value:"$2,450",trend:"+12% vs yesterday",icon:s.Z,trendIcon:i.Z,trendColor:"text-success-600",iconBg:"bg-success-100 dark:bg-success-900/30",iconColor:"text-success-600"}),(0,a.jsx)(k,{title:"Active Clients",value:t.data.length.toString(),trend:"+3 this month",icon:l.Z,trendIcon:i.Z,trendColor:"text-success-600",iconBg:"bg-primary-100 dark:bg-primary-900/30",iconColor:"text-primary-600"}),(0,a.jsx)(k,{title:"Attendance Rate",value:"94%",trend:"-2% vs last week",icon:d.Z,trendIcon:o.Z,trendColor:"text-error-600",iconBg:"bg-warning-100 dark:bg-warning-900/30",iconColor:"text-warning-600"}),(0,a.jsx)(k,{title:"Sessions Today",value:I.length.toString(),trend:"Same as yesterday",icon:u,trendIcon:m.Z,trendColor:"text-neutral-500",iconBg:"bg-secondary-100 dark:bg-secondary-900/30",iconColor:"text-secondary-600"})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Today's Schedule"}),(0,a.jsxs)("button",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium flex items-center gap-1 hover:underline",children:["View All ",(0,a.jsx)(h,{className:"w-4 h-4"})]})]}),(0,a.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:0===I.length?(0,a.jsx)("div",{className:"p-8 text-center text-neutral-500",children:"No sessions scheduled for today."}):I.map(e=>{let t=C(e.therapistId),r=S(e.clientId),n=new Date(e.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=new Date(e.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,a.jsx)(y,{time:n,endTime:s,client:r.name,clientId:r.id,type:e.type,therapist:t.name,therapistId:t.id,initials:t.initials,color:t.color,status:e.status,showActions:"in-progress"===e.status,onClick:()=>{v(e),N(!0)}},e.id)})})]})}),(0,a.jsx)(b.Z,{event:g,isOpen:w,onClose:()=>N(!1)}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,a.jsx)("h3",{className:"font-semibold text-neutral-900 dark:text-white",children:"Recent Activity"}),(0,a.jsx)("button",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium hover:underline",children:"View All"})]}),(0,a.jsxs)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:[(0,a.jsx)(j,{user:"Dr. Maria Garcia",action:"logged attendance",target:"John Smith",time:"5 min ago",icon:d.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"}),(0,a.jsx)(j,{user:"Dr. Andrei Ionescu",action:"created event",target:"Team Meeting",time:"15 min ago",icon:x.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"}),(0,a.jsx)(j,{user:"Dr. Elena Popescu",action:"updated progress",target:"Sara Lee",time:"1 hour ago",icon:i.Z,iconColor:"text-primary-500",iconBg:"bg-primary-50 dark:bg-primary-900/20"})]})]})})]})]})}function k(e){let{title:t,value:r,trend:n,icon:s,trendIcon:i,trendColor:l,iconBg:d,iconColor:o}=e;return(0,a.jsxs)("div",{className:"bg-white dark:bg-neutral-900 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm hover:shadow-md transition-shadow cursor-pointer group",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-500 dark:text-neutral-400",children:t}),(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(d," group-hover:scale-110 transition-transform"),children:(0,a.jsx)(s,{className:"w-4 h-4 ".concat(o)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:r}),(0,a.jsxs)("p",{className:"text-sm flex items-center gap-1 mt-1 ".concat(l),children:[(0,a.jsx)(i,{className:"w-3 h-3"}),n]})]})]})}function y(e){let{time:t,endTime:r,client:n,clientId:s,type:i,therapist:l,therapistId:d,initials:o,color:c,status:u,showActions:m,onClick:h}=e,x={completed:"bg-success-500","in-progress":"bg-warning-500",upcoming:"bg-neutral-300 dark:bg-neutral-600"};return(0,a.jsx)("div",{onClick:h,className:"p-4 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors cursor-pointer group",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"text-sm text-neutral-500 dark:text-neutral-400 w-16 flex-shrink-0",children:[(0,a.jsx)("div",{className:"font-medium text-neutral-900 dark:text-white",children:t}),(0,a.jsx)("div",{className:"text-xs",children:r})]}),(0,a.jsx)("div",{className:"mt-1.5 flex-shrink-0",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(x[u]||x.upcoming)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(g.default,{href:s?"/clients/profile?id=".concat(s):"#",onClick:e=>e.stopPropagation(),className:"font-medium text-neutral-900 dark:text-white truncate hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:n}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded-full border border-neutral-200 dark:border-neutral-700",children:i})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:(0,a.jsxs)(g.default,{href:"/team/",onClick:e=>e.stopPropagation(),className:"flex items-center gap-2 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[10px] text-white font-medium",style:{backgroundColor:c||"#4A90E2"},children:(0,a.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center",style:{backgroundColor:c},children:o})}),(0,a.jsx)("span",{children:l})]})}),m&&(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2 animate-in slide-in-from-top-2 duration-200",children:[(0,a.jsx)("span",{className:"text-xs text-neutral-500 mr-1",children:"Attendance:"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"px-3 py-1 text-xs rounded-full bg-neutral-100 dark:bg-neutral-800 hover:bg-success-100 dark:hover:bg-success-900/30 hover:text-success-700 text-neutral-600 dark:text-neutral-400 transition-colors border border-neutral-200 dark:border-neutral-700",children:"Present"}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"px-3 py-1 text-xs rounded-full bg-neutral-100 dark:bg-neutral-800 hover:bg-error-100 dark:hover:bg-error-900/30 hover:text-error-700 text-neutral-600 dark:text-neutral-400 transition-colors border border-neutral-200 dark:border-neutral-700",children:"Absent"})]})]})]})})}function j(e){let{user:t,action:r,target:n,time:s,icon:i,iconColor:l,iconBg:d,userHref:o,targetHref:c}=e;return(0,a.jsxs)("div",{className:"p-4 flex items-start gap-3 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 ".concat(d," rounded-full flex items-center justify-center flex-shrink-0"),children:(0,a.jsx)(i,{className:"w-4 h-4 ".concat(l)})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm text-neutral-900 dark:text-white",children:[(0,a.jsx)(g.default,{href:o||"/team/",className:"font-medium hover:text-primary-600 transition-colors",children:t}),(0,a.jsxs)("span",{className:"text-neutral-500 dark:text-neutral-400",children:[" ",r," "]}),(0,a.jsx)(g.default,{href:c||"/clients/",className:"font-medium hover:text-primary-600 transition-colors",children:n})]}),(0,a.jsx)("p",{className:"text-xs text-neutral-400 mt-0.5",children:s})]})]})}},18628:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return c},useAuth:function(){return u}});var a=r(3827),n=r(64090),s=r(27065),i=r(1221),l=r(58121),d=r(47907);let o=(0,n.createContext)({});function c(e){let{children:t}=e,[r,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[h,x]=(0,n.useState)(null),[g,f]=(0,n.useState)(!0),p=(0,d.useRouter)();(0,n.useEffect)(()=>{let e=null,t=(0,s.Aj)(i.I,async t=>{c(t),e&&(e(),e=null),t?e=(0,l.cf)((0,l.JU)(i.db,"team_members",t.uid),e=>{if(e.exists()){let t=e.data();m(t),x(t.role),f(!1)}else(0,l.cf)((0,l.JU)(i.db,"clients",t.uid),e=>{e.exists()?(m(e.data()),x("Parent")):(m(null),x(null)),f(!1)})}):(m(null),x(null),f(!1))});return()=>{t(),e&&e()}},[p]);let b=async(e,t)=>{await (0,s.e5)(i.I,e,t)},v=async()=>{await (0,s.w7)(i.I),p.push("/login")};return(0,a.jsx)(o.Provider,{value:{user:r,userData:u,userRole:h,loading:g,signIn:b,signOut:v},children:!g&&t})}let u=()=>(0,n.useContext)(o)},19685:function(e,t,r){"use strict";r.r(t),r.d(t,{ToastProvider:function(){return f},useToast:function(){return p}});var a=r(3827),n=r(64090),s=r(89542),i=r(46578),l=r(98998),d=r(61524),o=r(28814),c=r(52235),u=r(75504);let m={success:i.Z,error:l.Z,warning:d.Z,info:o.Z},h={success:"bg-success-500 border-success-600 text-white",error:"bg-error-500 border-error-600 text-white",warning:"bg-warning-500 border-warning-600 text-white",info:"bg-primary-500 border-primary-600 text-white"};function x(e){let{id:t,message:r,type:s,duration:i=5e3,onDismiss:l}=e,d=m[s];return(0,n.useEffect)(()=>{console.log("Toast mounted:",t);let e=setTimeout(()=>{l(t)},i);return()=>clearTimeout(e)},[i,t,l]),(0,a.jsxs)("div",{className:(0,u.W)("flex items-start gap-3 p-4 rounded-lg shadow-lg border w-80 pointer-events-auto z-[9999]",h[s]),role:"alert",children:[(0,a.jsx)(d,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{className:"flex-1 text-sm font-medium",children:r}),(0,a.jsx)("button",{onClick:()=>l(t),className:"text-white/80 hover:text-white transition-colors",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]})}let g=(0,n.createContext)(void 0);function f(e){let{children:t}=e,[r,i]=(0,n.useState)([]),[l,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{d(!0)},[]);let o=(0,n.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),c=(0,n.useCallback)(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;console.log("Showing toast:",e,t);let a=Math.random().toString(36).substring(2,9);i(n=>[...n,{id:a,message:e,type:t,duration:r,onDismiss:o}])},[o]),u=(0,n.useCallback)((e,t)=>c(e,"success",t),[c]),m=(0,n.useCallback)((e,t)=>c(e,"error",t),[c]),h=(0,n.useCallback)((e,t)=>c(e,"warning",t),[c]),f=(0,n.useCallback)((e,t)=>c(e,"info",t),[c]);return(0,a.jsxs)(g.Provider,{value:{showToast:c,success:u,error:m,warning:h,info:f},children:[t,l&&"undefined"!=typeof document&&(0,s.createPortal)((0,a.jsx)("div",{className:"fixed top-4 right-4 flex flex-col gap-2 max-h-screen pointer-events-none",style:{zIndex:999999},children:r.map(e=>(0,a.jsx)("div",{className:"pointer-events-auto animate-in slide-in-from-right-full fade-in duration-300",children:(0,a.jsx)(x,{...e})},e.id))}),document.body)]})}function p(){let e=(0,n.useContext)(g);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},2335:function(e,t,r){"use strict";r.d(t,{HX:function(){return g},Nx:function(){return h},Rn:function(){return x},Su:function(){return c},av:function(){return d},b$:function(){return u},bI:function(){return p},gV:function(){return b},hI:function(){return l},lU:function(){return o},we:function(){return m},wm:function(){return f}});var a=r(64090),n=r(58121),s=r(1221);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[r,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{d(!0);let r=(0,n.IO)((0,n.hJ)(s.db,e),...t),a=(0,n.cf)(r,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),i(t),d(!1)},t=>{console.error("Error fetching ".concat(e,":"),t),c(t.message),d(!1)});return()=>a()},[e]),{data:r,loading:l,error:o}}function l(){return i("events")}function d(){return i("clients")}function o(){return i("team_members")}function c(){return i("services")}function u(){return i("programs")}function m(e){let[t,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e){l(!1);return}let t=(0,n.IO)((0,n.hJ)(s.db,"events"),(0,n.ar)("clientId","==",e),(0,n.Xo)("startTime","asc")),a=(0,n.cf)(t,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),r(t),l(!1)},e=>{console.error("Error fetching client events:",e),o(e.message),l(!1)});return()=>a()},[e]),{data:t,loading:i,error:d}}function h(e,t){let[r,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let r=new Date(e,t,1),a=new Date(e,t+1,0,23,59,59,999),l=(0,n.IO)((0,n.hJ)(s.db,"events"),(0,n.ar)("startTime",">=",r.toISOString()),(0,n.ar)("startTime","<=",a.toISOString()),(0,n.Xo)("startTime","asc")),o=(0,n.cf)(l,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),i(t),d(!1)},e=>{console.error("Error fetching events by month:",e),c(e.message),d(!1)});return()=>o()},[e,t]),{data:r,loading:l,error:o}}function x(e){let[t,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!e){r([]),l(!1);return}let t=(0,n.IO)((0,n.hJ)(s.db,"clients",e,"interventionPlans"),(0,n.Xo)("createdAt","desc")),a=(0,n.cf)(t,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),r(t),l(!1)},e=>{console.error("Error fetching intervention plans:",e),o(e.message),l(!1)});return()=>a()},[e]);let c=t.find(e=>"active"===e.status)||null;return{data:t,loading:i,error:d,activePlan:c,getActivePlanForDate:e=>t.find(t=>{if("active"!==t.status)return!1;let r=new Date(t.startDate),a=new Date(t.endDate);return a.setHours(23,59,59,999),e>=r&&e<=a})||null}}function g(){let[e,t]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=(0,n.cf)((0,n.JU)(s.db,"system_settings","config"),e=>{e.exists()?t(e.data()):t(null),i(!1)},e=>{console.error("Error fetching system settings:",e),d(e.message),i(!1)});return()=>e()},[]),{data:e,loading:r,error:l}}function f(e){let[t,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e){l(!1);return}let t=(0,n.IO)((0,n.hJ)(s.db,"invoices"),(0,n.ar)("clientId","==",e),(0,n.Xo)("date","desc")),a=(0,n.cf)(t,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),r(t),l(!1)},e=>{console.error("Error fetching client invoices:",e),o(e.message),l(!1)});return()=>a()},[e]),{data:t,loading:i,error:d}}function p(e,t){let[r,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let r="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-01"),a="".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-31"),l=(0,n.IO)((0,n.hJ)(s.db,"invoices"),(0,n.ar)("date",">=",r),(0,n.ar)("date","<=",a),(0,n.Xo)("date","desc")),o=(0,n.cf)(l,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),i(t),d(!1)},e=>{console.error("Error fetching monthly invoices:",e),c(e.message),d(!1)});return()=>o()},[e,t]),{data:r,loading:l,error:o}}function b(e,t){let[r,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let r="".concat(e,"-").concat(String(t+1).padStart(2,"0")),a=(0,n.IO)((0,n.hJ)(s.db,"payouts"),(0,n.ar)("month","==",r)),l=(0,n.cf)(a,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),i(t),d(!1)},e=>{console.error("Error fetching monthly payouts:",e),c(e.message),d(!1)});return()=>l()},[e,t]),{data:r,loading:l,error:o}}},1221:function(e,t,r){"use strict";r.d(t,{I:function(){return l},db:function(){return d}});var a=r(26142),n=r(27065),s=r(58121);let i=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyBLyN1jo8PpJ5OMtkEuC4auhuuviapB3Bs",authDomain:"tempo-app-2.firebaseapp.com",projectId:"tempo-app-2",storageBucket:"tempo-app-2.firebasestorage.app",messagingSenderId:"47813899076",appId:"1:47813899076:web:cd597912a0755195241d11"}):(0,a.C6)()[0],l=(0,n.v0)(i),d=(0,s.ad)(i)}},function(e){e.O(0,[358,139,373,683,792,254,107,971,69,744],function(){return e(e.s=56734)}),_N_E=e.O()}]);