(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6855],{70926:function(e,t,a){Promise.resolve().then(a.bind(a,78323))},78323:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(3827),n=a(64090),i=a(47907),l=a(76853),s=a(13316),o=a(88102),c=a(53879),d=a(29910),u=a(18994),m=a(8792);function x(){let e=(0,i.useRouter)(),{notifications:t,filterByCategory:a,loadMore:x,hasMore:b,markAllAsRead:h,unreadCount:p}=(0,l.useNotifications)(),[f,g]=(0,n.useState)("all"),[N,v]=(0,n.useState)(!1),j=(0,n.useMemo)(()=>a(f),[a,f]),k=async()=>{v(!0),await x(),v(!1)};return(0,r.jsxs)("div",{className:"flex-1 max-w-3xl mx-auto w-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,r.jsxs)("div",{className:"sticky top-16 z-10 bg-neutral-50/80 dark:bg-neutral-950/80 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800",children:[(0,r.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>e.back(),className:"p-2 -ml-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Notifications"}),p>0&&(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[p," unread"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[p>0&&(0,r.jsx)("button",{onClick:h,className:"text-xs font-medium text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 px-3 py-1.5",children:"Mark all read"}),(0,r.jsx)(m.default,{href:"/settings",className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:(0,r.jsx)(d.Z,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]})]}),(0,r.jsx)("div",{className:"px-4 pb-3",children:(0,r.jsx)(s.Z,{activeFilter:f,onFilterChange:g})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border-x border-b border-neutral-200 dark:border-neutral-800 min-h-[calc(100vh-200px)]",children:[(0,r.jsx)(o.Z,{notifications:j,showDateGroups:!0,emptyMessage:(()=>{switch(f){case"unread":return"No unread notifications";case"schedule":return"No schedule notifications";case"attendance":return"No attendance notifications";case"team":return"No team notifications";case"billing":return"No billing notifications";case"client":return"No client notifications";case"message":return"No message notifications";default:return"No notifications yet"}})()}),b&&j.length>0&&(0,r.jsx)("div",{className:"p-4 border-t border-neutral-100 dark:border-neutral-800",children:(0,r.jsx)("button",{onClick:k,disabled:N,className:"w-full py-3 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):"Load More"})})]})]})}},13316:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(3827),n=a(76853),i=a(75504);let l=[{id:"all",label:"All"},{id:"unread",label:"Unread"},{id:"schedule",label:"Schedule"},{id:"attendance",label:"Attendance"},{id:"team",label:"Team"},{id:"billing",label:"Billing"},{id:"client",label:"Client"},{id:"message",label:"Messages"}];function s(e){let{activeFilter:t,onFilterChange:a}=e,{getCategoryCount:s}=(0,n.useNotifications)();return(0,r.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:(0,r.jsx)("div",{className:"flex items-center gap-2 min-w-max pb-2",children:l.map(e=>{let n=t===e.id,l=s(e.id),o="all"===e.id||"unread"===e.id;return(0,r.jsxs)("button",{onClick:()=>a(e.id),className:(0,i.W)("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap",n?"bg-primary-500 text-white shadow-sm":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:[e.label,o&&l>0&&(0,r.jsx)("span",{className:(0,i.W)("px-1.5 py-0.5 text-xs rounded-full min-w-[20px] text-center",n?"bg-white/20 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300"),children:l})]},e.id)})})})}},98461:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var r=a(3827),n=a(47907),i=a(97307),l=a(46578),s=a(34059),o=a(10527),c=a(11213),d=a(61524),u=a(30438),m=a(14589),x=a(76853);let b={schedule:i.Z,attendance:l.Z,team:s.Z,billing:o.Z,client:c.Z,system:d.Z,message:u.Z};function h(e){var t;let{notification:a,compact:i=!1,onAction:l}=e,s=(0,n.useRouter)(),{markAsRead:o}=(0,x.useNotifications)(),c=m.p[a.category];b[a.category];let d=async()=>{var e;a.read||await o(a.id);let t=null===(e=a.actions)||void 0===e?void 0:e[0];(null==t?void 0:t.type)==="navigate"&&t.route&&s.push(t.route),null==l||l()};return(0,r.jsxs)("div",{onClick:d,className:"\n        flex items-start gap-3 cursor-pointer transition-colors\n        hover:bg-neutral-50 dark:hover:bg-neutral-800/50\n        ".concat(i?"p-3":"p-4","\n        ").concat(a.read?"":"bg-primary-50/50 dark:bg-primary-900/10","\n      "),children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:a.read?(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full border-2 ".concat(c.color.replace("text-","border-"))}):(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(c.color.replace("text-","bg-"))})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white ".concat("text-sm"),children:a.title}),(0,r.jsx)("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 whitespace-nowrap flex-shrink-0",children:(0,m.S)(a.createdAt)})]}),(0,r.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-0.5 ".concat(i?"text-xs line-clamp-1":"text-sm line-clamp-2"),children:a.message}),!i&&(null===(t=a.actions)||void 0===t?void 0:t[0])&&(0,r.jsx)("button",{className:"mt-2 text-xs font-medium ".concat(c.color," hover:underline"),children:a.actions[0].label})]})]})}},88102:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(3827),n=a(76853),i=a(98461),l=a(43345);function s(e){let{title:t,notifications:a,compact:n,onItemAction:l}=e;return 0===a.length?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"px-4 py-2 bg-neutral-50 dark:bg-neutral-800/50 sticky top-0 z-10",children:(0,r.jsx)("span",{className:"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:t})}),(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:a.map(e=>(0,r.jsx)(i.Z,{notification:e,compact:n,onAction:l},e.id))})]})}function o(e){let{notifications:t,compact:a=!1,showDateGroups:o=!0,onItemAction:c,emptyMessage:d="No notifications"}=e,{getGroupedNotifications:u,loading:m}=(0,n.useNotifications)();if(m)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(0===t.length)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-neutral-400 dark:text-neutral-500",children:[(0,r.jsx)(l.Z,{className:"w-12 h-12 mb-3"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:d})]});if(!o)return(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:t.map(e=>(0,r.jsx)(i.Z,{notification:e,compact:a,onAction:c},e.id))});let x=u(t);return(0,r.jsxs)("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800",children:[(0,r.jsx)(s,{title:"Today",notifications:x.today,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"Yesterday",notifications:x.yesterday,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"This Week",notifications:x.thisWeek,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"Older",notifications:x.older,compact:a,onItemAction:c})]})}},14589:function(e,t,a){"use strict";a.d(t,{S:function(){return n},p:function(){return r}});let r={schedule:{label:"Schedule",color:"text-primary-500",bgColor:"bg-primary-100 dark:bg-primary-900/30",iconName:"Calendar"},attendance:{label:"Attendance",color:"text-success-500",bgColor:"bg-success-100 dark:bg-success-900/30",iconName:"CheckCircle"},team:{label:"Team",color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",iconName:"Users"},billing:{label:"Billing",color:"text-warning-500",bgColor:"bg-warning-100 dark:bg-warning-900/30",iconName:"CreditCard"},client:{label:"Client",color:"text-teal-500",bgColor:"bg-teal-100 dark:bg-teal-900/30",iconName:"User"},system:{label:"System",color:"text-error-500",bgColor:"bg-error-100 dark:bg-error-900/30",iconName:"AlertTriangle"},message:{label:"Message",color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/30",iconName:"MessageSquare"}};function n(e){let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3),r=Math.floor(a/60),n=Math.floor(r/60),i=Math.floor(n/24);return a<60?"Just now":r<60?"".concat(r,"m ago"):n<24?"".concat(n,"h ago"):1===i?"Yesterday":i<7?"".concat(i,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}}},function(e){e.O(0,[4358,139,5050,8234,901,4799,1678,6853,2971,8069,1744],function(){return e(e.s=70926)}),_N_E=e.O()}]);