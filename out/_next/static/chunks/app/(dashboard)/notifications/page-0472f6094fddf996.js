(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{70926:function(e,t,a){Promise.resolve().then(a.bind(a,78323))},61524:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},53879:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},43345:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},97307:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},46578:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10527:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},18994:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},29910:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},11213:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},34059:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,a(87461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},78323:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var n=a(3827),r=a(64090),i=a(47907),l=a(76853),s=a(13316),c=a(88102),o=a(53879),d=a(29910),u=a(18994),m=a(8792);function x(){let e=(0,i.useRouter)(),{notifications:t,filterByCategory:a,loadMore:x,hasMore:f,markAllAsRead:h,unreadCount:p}=(0,l.useNotifications)(),[b,y]=(0,r.useState)("all"),[g,v]=(0,r.useState)(!1),k=(0,r.useMemo)(()=>a(b),[a,b]),N=async()=>{v(!0),await x(),v(!1)};return(0,n.jsxs)("div",{className:"flex-1 max-w-3xl mx-auto w-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,n.jsxs)("div",{className:"sticky top-16 z-10 bg-neutral-50/80 dark:bg-neutral-950/80 backdrop-blur-md border-b border-neutral-200 dark:border-neutral-800",children:[(0,n.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>e.back(),className:"p-2 -ml-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:(0,n.jsx)(o.Z,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Notifications"}),p>0&&(0,n.jsxs)("p",{className:"text-xs text-neutral-500",children:[p," unread"]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[p>0&&(0,n.jsx)("button",{onClick:h,className:"text-xs font-medium text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 px-3 py-1.5",children:"Mark all read"}),(0,n.jsx)(m.default,{href:"/settings",className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:(0,n.jsx)(d.Z,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]})]}),(0,n.jsx)("div",{className:"px-4 pb-3",children:(0,n.jsx)(s.Z,{activeFilter:b,onFilterChange:y})})]}),(0,n.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border-x border-b border-neutral-200 dark:border-neutral-800 min-h-[calc(100vh-200px)]",children:[(0,n.jsx)(c.Z,{notifications:k,showDateGroups:!0,emptyMessage:(()=>{switch(b){case"unread":return"No unread notifications";case"schedule":return"No schedule notifications";case"attendance":return"No attendance notifications";case"team":return"No team notifications";case"billing":return"No billing notifications";case"client":return"No client notifications";default:return"No notifications yet"}})()}),f&&k.length>0&&(0,n.jsx)("div",{className:"p-4 border-t border-neutral-100 dark:border-neutral-800",children:(0,n.jsx)("button",{onClick:N,disabled:g,className:"w-full py-3 text-sm font-medium text-primary-600 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Z,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):"Load More"})})]})]})}},13316:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var n=a(3827),r=a(76853),i=a(75504);let l=[{id:"all",label:"All"},{id:"unread",label:"Unread"},{id:"schedule",label:"Schedule"},{id:"attendance",label:"Attendance"},{id:"team",label:"Team"},{id:"billing",label:"Billing"},{id:"client",label:"Client"}];function s(e){let{activeFilter:t,onFilterChange:a}=e,{getCategoryCount:s}=(0,r.useNotifications)();return(0,n.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:(0,n.jsx)("div",{className:"flex items-center gap-2 min-w-max pb-2",children:l.map(e=>{let r=t===e.id,l=s(e.id),c="all"===e.id||"unread"===e.id;return(0,n.jsxs)("button",{onClick:()=>a(e.id),className:(0,i.W)("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap",r?"bg-primary-500 text-white shadow-sm":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:[e.label,c&&l>0&&(0,n.jsx)("span",{className:(0,i.W)("px-1.5 py-0.5 text-xs rounded-full min-w-[20px] text-center",r?"bg-white/20 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300"),children:l})]},e.id)})})})}},98461:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var n=a(3827),r=a(47907),i=a(97307),l=a(46578),s=a(34059),c=a(10527),o=a(11213),d=a(61524),u=a(14589),m=a(76853);let x={schedule:i.Z,attendance:l.Z,team:s.Z,billing:c.Z,client:o.Z,system:d.Z};function f(e){var t;let{notification:a,compact:i=!1,onAction:l}=e,s=(0,r.useRouter)(),{markAsRead:c}=(0,m.useNotifications)(),o=u.p[a.category];x[a.category];let d=async()=>{var e;a.read||await c(a.id);let t=null===(e=a.actions)||void 0===e?void 0:e[0];(null==t?void 0:t.type)==="navigate"&&t.route&&s.push(t.route),null==l||l()};return(0,n.jsxs)("div",{onClick:d,className:"\n        flex items-start gap-3 cursor-pointer transition-colors\n        hover:bg-neutral-50 dark:hover:bg-neutral-800/50\n        ".concat(i?"p-3":"p-4","\n        ").concat(a.read?"":"bg-primary-50/50 dark:bg-primary-900/10","\n      "),children:[(0,n.jsx)("div",{className:"flex-shrink-0 mt-1",children:a.read?(0,n.jsx)("div",{className:"w-2.5 h-2.5 rounded-full border-2 ".concat(o.color.replace("text-","border-"))}):(0,n.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(o.color.replace("text-","bg-"))})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,n.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white ".concat("text-sm"),children:a.title}),(0,n.jsx)("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 whitespace-nowrap flex-shrink-0",children:(0,u.S)(a.createdAt)})]}),(0,n.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-0.5 ".concat(i?"text-xs line-clamp-1":"text-sm line-clamp-2"),children:a.message}),!i&&(null===(t=a.actions)||void 0===t?void 0:t[0])&&(0,n.jsx)("button",{className:"mt-2 text-xs font-medium ".concat(o.color," hover:underline"),children:a.actions[0].label})]})]})}},88102:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=a(3827),r=a(76853),i=a(98461),l=a(43345);function s(e){let{title:t,notifications:a,compact:r,onItemAction:l}=e;return 0===a.length?null:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"px-4 py-2 bg-neutral-50 dark:bg-neutral-800/50 sticky top-0 z-10",children:(0,n.jsx)("span",{className:"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:t})}),(0,n.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:a.map(e=>(0,n.jsx)(i.Z,{notification:e,compact:r,onAction:l},e.id))})]})}function c(e){let{notifications:t,compact:a=!1,showDateGroups:c=!0,onItemAction:o,emptyMessage:d="No notifications"}=e,{getGroupedNotifications:u,loading:m}=(0,r.useNotifications)();if(m)return(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(0===t.length)return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-neutral-400 dark:text-neutral-500",children:[(0,n.jsx)(l.Z,{className:"w-12 h-12 mb-3"}),(0,n.jsx)("p",{className:"text-sm font-medium",children:d})]});if(!c)return(0,n.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:t.map(e=>(0,n.jsx)(i.Z,{notification:e,compact:a,onAction:o},e.id))});let x=u(t);return(0,n.jsxs)("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800",children:[(0,n.jsx)(s,{title:"Today",notifications:x.today,compact:a,onItemAction:o}),(0,n.jsx)(s,{title:"Yesterday",notifications:x.yesterday,compact:a,onItemAction:o}),(0,n.jsx)(s,{title:"This Week",notifications:x.thisWeek,compact:a,onItemAction:o}),(0,n.jsx)(s,{title:"Older",notifications:x.older,compact:a,onItemAction:o})]})}},18628:function(e,t,a){"use strict";a.r(t),a.d(t,{AuthProvider:function(){return d},useAuth:function(){return u}});var n=a(3827),r=a(64090),i=a(27065),l=a(1221),s=a(58121),c=a(47907);let o=(0,r.createContext)({});function d(e){let{children:t}=e,[a,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[x,f]=(0,r.useState)(null),[h,p]=(0,r.useState)(!0),b=(0,c.useRouter)();(0,r.useEffect)(()=>{let e=null,t=(0,i.Aj)(l.I8,async t=>{d(t),e&&(e(),e=null),t?e=(0,s.cf)((0,s.JU)(l.db,"team_members",t.uid),e=>{if(e.exists()){let t=e.data();m(t),f(t.role),p(!1)}else(0,s.cf)((0,s.JU)(l.db,"clients",t.uid),e=>{e.exists()?(m(e.data()),f("Parent")):(m(null),f(null)),p(!1)})}):(m(null),f(null),p(!1))});return()=>{t(),e&&e()}},[b]);let y=async(e,t)=>{await (0,i.e5)(l.I8,e,t)},g=async()=>{await (0,i.w7)(l.I8),b.push("/login")};return(0,n.jsx)(o.Provider,{value:{user:a,userData:u,userRole:x,loading:h,signIn:y,signOut:g},children:!h&&t})}let u=()=>(0,r.useContext)(o)},1221:function(e,t,a){"use strict";a.d(t,{Fw:function(){return d},I8:function(){return c},db:function(){return o}});var n=a(26142),r=a(27065),i=a(58121),l=a(76079);let s=0===(0,n.C6)().length?(0,n.ZF)({apiKey:"AIzaSyBLyN1jo8PpJ5OMtkEuC4auhuuviapB3Bs",authDomain:"tempo-app-2.firebaseapp.com",projectId:"tempo-app-2",storageBucket:"tempo-app-2.firebasestorage.app",messagingSenderId:"47813899076",appId:"1:47813899076:web:cd597912a0755195241d11"}):(0,n.C6)()[0],c=(0,r.v0)(s),o=(0,i.ad)(s),d=(0,l.KL)(s)},14589:function(e,t,a){"use strict";a.d(t,{S:function(){return r},p:function(){return n}});let n={schedule:{label:"Schedule",color:"text-primary-500",bgColor:"bg-primary-100 dark:bg-primary-900/30",iconName:"Calendar"},attendance:{label:"Attendance",color:"text-success-500",bgColor:"bg-success-100 dark:bg-success-900/30",iconName:"CheckCircle"},team:{label:"Team",color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",iconName:"Users"},billing:{label:"Billing",color:"text-warning-500",bgColor:"bg-warning-100 dark:bg-warning-900/30",iconName:"CreditCard"},client:{label:"Client",color:"text-teal-500",bgColor:"bg-teal-100 dark:bg-teal-900/30",iconName:"User"},system:{label:"System",color:"text-error-500",bgColor:"bg-error-100 dark:bg-error-900/30",iconName:"AlertTriangle"}};function r(e){let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3),n=Math.floor(a/60),r=Math.floor(n/60),i=Math.floor(r/24);return a<60?"Just now":n<60?"".concat(n,"m ago"):r<24?"".concat(r,"h ago"):1===i?"Yesterday":i<7?"".concat(i,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},75504:function(e,t,a){"use strict";function n(){for(var e,t,a=0,n="",r=arguments.length;a<r;a++)(e=arguments[a])&&(t=function e(t){var a,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(n=e(t[a]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(n&&(n+=" "),n+=t);return n}a.d(t,{W:function(){return n}})}},function(e){e.O(0,[358,139,872,901,853,971,69,744],function(){return e(e.s=70926)}),_N_E=e.O()}]);