(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{26427:function(e,t,a){Promise.resolve().then(a.bind(a,77574))},77574:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eu}});var r=a(3827),s=a(64090),l=a(47907),n=a(58121),i=a(1221),d=a(53879),o=a(96399),c=a(29295),m=a(18469),u=a(50489),x=a(8792),h=a(75504),p=a(18628),b=a(19685);let g=[{id:"overview",label:"Overview"},{id:"evolution",label:"Evolution"},{id:"programs",label:"Programs"},{id:"plan",label:"Plan"},{id:"docs",label:"Docs"},{id:"reports",label:"Reports"}];function f(e){let{client:t,activeTab:a,onTabChange:f,onEdit:j}=e,{userRole:N}=(0,p.useAuth)(),{success:v,error:y}=(0,b.useToast)(),w=(0,l.useRouter)(),[k,C]=(0,s.useState)(!1),D=(0,s.useRef)(null),Z="Admin"===N,S=Z||"Coordinator"===N;(0,s.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let P=async()=>{try{let e=(0,n.JU)(i.db,"clients",t.id);await (0,n.r7)(e,{isArchived:!t.isArchived}),v(t.isArchived?"Client restored":"Client archived"),C(!1)}catch(e){console.error(e),y("Failed to update status")}},I=async()=>{if(confirm("Are you sure you want to PERMANENTLY delete ".concat(t.name,"? This cannot be undone.")))try{await (0,n.oe)((0,n.JU)(i.db,"clients",t.id)),v("Client deleted forever"),w.push("/clients/")}catch(e){console.error(e),y("Failed to delete client")}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(x.default,{href:"/clients/",className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:(0,r.jsx)(d.Z,{className:"w-5 h-5 text-neutral-500"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:t.name}),t.isArchived&&(0,r.jsxs)("span",{className:"px-2 py-0.5 bg-warning-100 text-warning-700 dark:bg-warning-900/30 dark:text-warning-400 text-[10px] font-bold uppercase rounded-md flex items-center gap-1",children:[(0,r.jsx)(o.Z,{className:"w-3 h-3"}),"Archived"]})]})]}),S&&(0,r.jsxs)("div",{className:"flex items-center gap-2 relative",ref:D,children:[(0,r.jsxs)("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 border border-neutral-200 dark:border-neutral-800 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors text-sm font-medium",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4"}),"Edit Profile"]}),(0,r.jsx)("button",{onClick:()=>C(!k),className:(0,h.W)("p-2 rounded-lg border border-neutral-200 dark:border-neutral-800 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",k&&"bg-neutral-100 dark:bg-neutral-800"),children:(0,r.jsx)(m.Z,{className:"w-5 h-5 text-neutral-500"})}),k&&(0,r.jsx)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:(0,r.jsxs)("div",{className:"p-1",children:[(0,r.jsxs)("button",{onClick:P,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),t.isArchived?"Restore Client":"Archive Client"]}),Z&&(0,r.jsxs)("button",{onClick:I,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-error-600 hover:bg-error-50 dark:hover:bg-error-900/20 rounded-lg transition-colors",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),"Delete Permanently"]})]})})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-1 border-b border-neutral-200 dark:border-neutral-800 overflow-x-auto scrollbar-hide",children:g.map(e=>(0,r.jsxs)("button",{onClick:()=>f(e.id),className:(0,h.W)("px-6 py-3 text-sm font-medium transition-all relative whitespace-nowrap",a===e.id?"text-primary-600 dark:text-primary-400":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"),children:[e.label,a===e.id&&(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-500"})]},e.id))})]})}var j=a(11213),N=a(85904),v=a(90684),y=a(89142),w=a(65),k=a(20933),C=a(80037),D=a(23416),Z=a(40834),S=a(97307),P=a(18994),I=a(26490),T=a(26503),E=a(2335);function A(e){var t;let{client:a}=e,{data:l}=(0,E.lU)(),{data:d,loading:o}=(0,E.we)(a.id),{success:c,error:m}=(0,b.useToast)(),[u,p]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),A=(l||[]).find(e=>e.id===a.assignedTherapistId),U=e=>new Date(e?e.seconds?1e3*e.seconds:e:0),F=(null==d?void 0:d.length)||0,B=(null==d?void 0:d.filter(e=>"completed"===e.status))||[],W=B.filter(e=>"present"===e.attendance).length,z=B.length>0?Math.round(W/B.length*100):0,J=(null===(t=a.programIds)||void 0===t?void 0:t.length)||0,M=new Date,L=(d||[]).filter(e=>U(e.startTime)>=M).sort((e,t)=>U(e.startTime).getTime()-U(t.startTime).getTime()).slice(0,3),R=async()=>{p(!0);try{let e=a.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),t="".concat(e,"-").concat(Math.floor(1e3+9e3*Math.random()));await (0,n.r7)((0,n.JU)(i.db,"clients",a.id),{clientCode:t}),c("New access code generated!")}catch(e){console.error(e),m("Failed to generate code")}finally{p(!1)}};return(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in fade-in duration-500",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide font-semibold",children:"Parent / Guardian"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4 text-neutral-400"}),(0,r.jsx)("span",{className:"font-medium",children:a.parentName||"Not provided"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide font-semibold",children:"Phone Number"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)(N.Z,{className:"w-4 h-4 text-neutral-400"}),a.phone?(0,r.jsx)("a",{href:"tel:".concat(a.phone),className:"font-medium hover:text-primary-600 dark:hover:text-primary-400 transition-colors",children:a.phone}):(0,r.jsx)("span",{className:"font-medium",children:"Not provided"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide font-semibold",children:"Email Address"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)(v.Z,{className:"w-4 h-4 text-neutral-400"}),(0,r.jsx)("span",{className:"font-medium",children:a.parentEmail||"Not provided"})]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide font-semibold",children:"Birth Date"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-neutral-700 dark:text-neutral-300",children:[(0,r.jsx)(y.Z,{className:"w-4 h-4 text-neutral-400"}),(0,r.jsx)("span",{className:"font-medium",children:a.birthDate?new Date(a.birthDate).toLocaleDateString("ro-RO",{day:"2-digit",month:"long",year:"numeric"}):"Not provided"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[(0,r.jsxs)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,r.jsx)(w.Z,{className:"w-5 h-5 text-warning-500"}),"Medical Information & Notes"]}),(0,r.jsx)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800/50 rounded-xl border border-neutral-100 dark:border-neutral-800",children:(0,r.jsxs)("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 leading-relaxed italic",children:["“",a.medicalInfo||"No medical alerts or clinical notes provided for this client.","”"]})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4",children:"Assigned Therapy Team"}),A?(0,r.jsxs)(x.default,{href:"/team/",className:"flex items-center gap-4 p-3 border border-neutral-100 dark:border-neutral-800 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors w-fit pr-8 group",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg",style:{backgroundColor:A.color},children:A.initials}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-neutral-900 dark:text-white group-hover:text-primary-600 transition-colors",children:A.name}),(0,r.jsx)("p",{className:"text-sm text-primary-600 dark:text-primary-400 font-medium",children:A.role})]})]}):(0,r.jsx)("p",{className:"text-sm text-neutral-500 italic",children:"No therapist assigned yet."})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm overflow-hidden relative",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:(0,r.jsx)(k.Z,{className:"w-20 h-24"})}),(0,r.jsxs)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"w-5 h-5 text-primary-500"}),"Portal Access"]}),a.clientCode?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl border border-neutral-100 dark:border-neutral-800 text-center",children:[(0,r.jsx)("p",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-widest mb-1",children:"Current Access Code"}),(0,r.jsx)("p",{className:"text-2xl font-mono font-bold text-primary-600 tracking-wider uppercase",children:a.clientCode})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("button",{onClick:()=>{if(!a.clientCode)return;let e=window.location.origin,t=e.includes("localhost")?"/parent":"/v2/parent",r="".concat(e).concat(t,"/?code=").concat(a.clientCode);navigator.clipboard.writeText(r),f(!0),c("Invite link copied to clipboard!"),setTimeout(()=>f(!1),2e3)},className:"flex-1 flex items-center justify-center gap-2 py-2.5 bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 rounded-xl text-sm font-bold hover:opacity-90 transition-all",children:[g?(0,r.jsx)(C.Z,{className:"w-4 h-4"}):(0,r.jsx)(D.Z,{className:"w-4 h-4"}),g?"Copied!":"Copy Invite Link"]}),(0,r.jsx)("button",{onClick:R,disabled:u,className:"p-2.5 border border-neutral-200 dark:border-neutral-800 rounded-xl text-neutral-500 hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-all disabled:opacity-50",title:"Reset Code",children:(0,r.jsx)(Z.Z,{className:(0,h.W)("w-5 h-5",u&&"animate-spin")})})]}),(0,r.jsx)("p",{className:"text-[10px] text-neutral-500 text-center leading-relaxed",children:"Parents can access the portal using this code or by clicking the unique invite link."})]}):(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"py-4 text-center",children:[(0,r.jsx)("p",{className:"text-sm text-neutral-500 mb-4",children:"Portal access is not yet configured for this client."}),(0,r.jsxs)("button",{onClick:R,disabled:u,className:"w-full flex items-center justify-center gap-2 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-all shadow-lg shadow-primary-500/20 disabled:opacity-70",children:[u?(0,r.jsx)(Z.Z,{className:"w-5 h-5 animate-spin"}):(0,r.jsx)(k.Z,{className:"w-5 h-5"}),"Generate Access Code"]})]})})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4",children:"Quick Stats"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-500",children:[(0,r.jsx)(S.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Total Sessions"})]}),(0,r.jsx)("span",{className:"font-bold text-neutral-900 dark:text-white",children:o?(0,r.jsx)(P.Z,{className:"w-3 h-3 animate-spin"}):F})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-500",children:[(0,r.jsx)(I.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Attendance Rate"})]}),(0,r.jsx)("span",{className:(0,h.W)("font-bold",z>=90?"text-success-600":z>=75?"text-warning-600":"text-error-600"),children:o?(0,r.jsx)(P.Z,{className:"w-3 h-3 animate-spin"}):"".concat(z,"%")})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-500",children:[(0,r.jsx)(T.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Active Programs"})]}),(0,r.jsx)("span",{className:"font-bold text-primary-600",children:J})]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"font-bold text-neutral-900 dark:text-white mb-4",children:"Upcoming Schedule"}),o?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)(P.Z,{className:"w-6 h-6 animate-spin text-neutral-300"})}):L.length>0?(0,r.jsxs)("div",{className:"space-y-3",children:[L.map(e=>{let t=U(e.startTime),a=t.toDateString()===new Date().toDateString();return(0,r.jsxs)("div",{className:"p-3 bg-primary-50 dark:bg-primary-900/20 rounded-xl border border-primary-100 dark:border-primary-900/50",children:[(0,r.jsx)("p",{className:"text-xs font-bold text-primary-600 dark:text-primary-400 uppercase",children:a?"Today":t.toLocaleDateString("en-US",{weekday:"long"})}),(0,r.jsx)("p",{className:"text-sm font-bold text-neutral-900 dark:text-white mt-1",children:e.type}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",e.duration," min"]})]},e.id)}),(0,r.jsx)("button",{className:"w-full py-2 text-sm font-bold text-primary-600 dark:text-primary-400 hover:underline",children:"View full calendar"})]}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-sm text-neutral-500 italic",children:"No upcoming sessions found."})})]})]})]})}var U=a(70094),F=a(14562);function B(e){let{client:t}=e,{data:a,loading:s}=(0,E.b$)(),l=(a||[]).filter(e=>{var a;return null===(a=t.programIds)||void 0===a?void 0:a.includes(e.id)});return s?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-neutral-500",children:[(0,r.jsx)(P.Z,{className:"w-10 h-10 animate-spin mb-4"}),(0,r.jsx)("p",{children:"Loading programs..."})]}):(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"Assigned Programs"}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl text-sm font-bold transition-colors",children:[(0,r.jsx)(U.Z,{className:"w-4 h-4"}),"Assign Program"]})]}),l.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-6 shadow-sm hover:border-primary-500/50 transition-all group",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-primary-50 dark:bg-primary-900/20 rounded-xl flex items-center justify-center text-primary-600 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/40 transition-colors",children:(0,r.jsx)(F.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-bold text-neutral-900 dark:text-white",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-neutral-500 mt-1 line-clamp-2",children:e.description||"No description provided for this program."}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-xs font-medium px-2 py-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 rounded-lg",children:"Status: Active"}),(0,r.jsx)("button",{className:"text-sm font-bold text-primary-600 hover:underline",children:"View Details"})]})]})]})},e.id))}):(0,r.jsxs)("div",{className:"py-20 text-center bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-neutral-50 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(F.Z,{className:"w-8 h-8 text-neutral-300"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"No programs assigned"}),(0,r.jsx)("p",{className:"text-neutral-500 mt-1 max-w-sm mx-auto",children:"This client doesn't have any therapy programs assigned yet. Click the button above to start assigning programs."})]})]})}var W=a(56227),z=a(64178),J=a(85159),M=a(23441),L=a(46578),R=a(52235),O=a(28670);function q(e){let{isOpen:t,onClose:a,clientId:l,existingPlan:d}=e,{success:o,error:c}=(0,b.useToast)(),{data:m,loading:x}=(0,E.b$)(),[p,g]=(0,s.useState)(!1),[f,j]=(0,s.useState)(!1),[N,v]=(0,s.useState)(""),[y,w]=(0,s.useState)({name:"",startDate:"",endDate:"",programIds:[],status:"active"});(0,s.useEffect)(()=>{if(d)w({name:d.name,startDate:d.startDate,endDate:d.endDate,programIds:d.programIds,status:d.status});else{let e=new Date,t=new Date;t.setMonth(t.getMonth()+3),w({name:"",startDate:e.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0],programIds:[],status:"active"})}v("")},[d,t]);let k=(m||[]).filter(e=>e.title.toLowerCase().includes(N.toLowerCase())||(e.description||"").toLowerCase().includes(N.toLowerCase())),D=e=>{w(t=>({...t,programIds:t.programIds.includes(e)?t.programIds.filter(t=>t!==e):[...t.programIds,e]}))},Z=()=>y.name.trim()?y.startDate?y.endDate?new Date(y.endDate)<=new Date(y.startDate)?"End date must be after start date":0===y.programIds.length?"Select at least one program":null:"End date is required":"Start date is required":"Plan name is required",S=async e=>{e.preventDefault();let t=Z();if(t){c(t);return}g(!0);try{let e={name:y.name.trim(),startDate:y.startDate,endDate:y.endDate,programIds:y.programIds,status:y.status,...d?{}:{createdAt:new Date().toISOString()}};if(d){let t=(0,n.JU)(i.db,"clients",l,"interventionPlans",d.id);await (0,n.r7)(t,e),o("Plan updated successfully")}else await (0,n.ET)((0,n.hJ)(i.db,"clients",l,"interventionPlans"),e),o("Plan created successfully");a()}catch(e){console.error(e),c(d?"Failed to update plan":"Failed to create plan")}finally{g(!1)}},I=async()=>{if(d&&confirm('Delete "'.concat(d.name,'"? This action cannot be undone.'))){j(!0);try{await (0,n.oe)((0,n.JU)(i.db,"clients",l,"interventionPlans",d.id)),o("Plan deleted"),a()}catch(e){console.error(e),c("Failed to delete plan")}finally{j(!1)}}};return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),(0,r.jsxs)("div",{className:"relative w-full max-w-lg bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 flex items-center justify-between bg-neutral-50 dark:bg-neutral-900",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/30 text-primary-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)(W.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:d?"Edit Intervention Plan":"Create Intervention Plan"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:d?"Modify plan details":"Set up programs for this client"})]})]}),(0,r.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-neutral-200 dark:hover:bg-neutral-800",children:(0,r.jsx)(R.Z,{className:"w-5 h-5 text-neutral-500"})})]}),(0,r.jsxs)("form",{onSubmit:S,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Plan Name ",(0,r.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"e.g. Q1 2026 Intervention",className:"w-full px-3 py-2.5 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500",value:y.name,onChange:e=>w({...y,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Start Date ",(0,r.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",required:!0,className:"w-full px-3 py-2.5 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500",value:y.startDate,onChange:e=>w({...y,startDate:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["End Date ",(0,r.jsx)("span",{className:"text-error-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",required:!0,className:"w-full px-3 py-2.5 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500",value:y.endDate,onChange:e=>w({...y,endDate:e.target.value})})]})]}),d&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:"Status"}),(0,r.jsx)("div",{className:"flex gap-2",children:["active","draft","completed"].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>w({...y,status:e}),className:(0,h.W)("flex-1 py-2 rounded-lg text-sm font-medium transition-all border capitalize",y.status===e?"active"===e?"bg-success-500 border-success-600 text-white":"draft"===e?"bg-warning-500 border-warning-600 text-white":"bg-neutral-500 border-neutral-600 text-white":"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 text-neutral-600 dark:text-neutral-400"),children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Select Programs ",(0,r.jsx)("span",{className:"text-error-500",children:"*"}),(0,r.jsxs)("span",{className:"ml-2 text-xs text-neutral-500 font-normal",children:["(",y.programIds.length," selected)"]})]}),(0,r.jsxs)("div",{className:"relative mb-3",children:[(0,r.jsx)(O.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search programs...",className:"w-full pl-9 pr-4 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 text-sm",value:N,onChange:e=>v(e.target.value)})]}),(0,r.jsx)("div",{className:"max-h-48 overflow-y-auto space-y-1.5 pr-1",children:x?(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(P.Z,{className:"w-6 h-6 animate-spin text-primary-500"})}):0===k.length?(0,r.jsx)("p",{className:"text-center py-4 text-sm text-neutral-500",children:"No programs found"}):k.map(e=>{let t=y.programIds.includes(e.id);return(0,r.jsxs)("div",{onClick:()=>D(e.id),className:(0,h.W)("flex items-center gap-3 p-2.5 rounded-lg border cursor-pointer transition-all",t?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-neutral-200 dark:border-neutral-700 hover:border-primary-300"),children:[(0,r.jsx)("div",{className:(0,h.W)("w-5 h-5 rounded border flex items-center justify-center flex-shrink-0",t?"bg-primary-500 border-primary-500 text-white":"border-neutral-300 dark:border-neutral-600"),children:t&&(0,r.jsx)(C.Z,{className:"w-3 h-3"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-neutral-900 dark:text-white truncate flex items-center gap-1.5",children:[(0,r.jsx)(F.Z,{className:"w-3 h-3 text-neutral-400 flex-shrink-0"}),e.title]}),e.description&&(0,r.jsx)("p",{className:"text-xs text-neutral-500 truncate",children:e.description})]})]},e.id)})})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[d&&(0,r.jsx)("button",{type:"button",onClick:I,disabled:f,className:"p-2.5 border border-error-200 dark:border-error-800 text-error-600 rounded-xl hover:bg-error-50 dark:hover:bg-error-900/20 transition-colors disabled:opacity-50",children:f?(0,r.jsx)(P.Z,{className:"w-5 h-5 animate-spin"}):(0,r.jsx)(u.Z,{className:"w-5 h-5"})}),(0,r.jsx)("button",{type:"button",onClick:a,className:"flex-1 py-2.5 border border-neutral-200 dark:border-neutral-700 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 font-bold transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:p,className:"flex-1 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary-500/20",children:p?(0,r.jsx)(P.Z,{className:"w-4 h-4 animate-spin"}):d?"Save Changes":"Create Plan"})]})]})]})]}):null}function _(e){let{client:t}=e,{data:a,loading:l,activePlan:d}=(0,E.Rn)(t.id),{data:o}=(0,E.b$)(),{success:m,error:u}=(0,b.useToast)(),[x,p]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),v=a.filter(e=>"completed"===e.status),y=a.filter(e=>"draft"===e.status),w=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),k=e=>{let t=new Date(e),a=new Date;return Math.ceil((t.getTime()-a.getTime())/864e5)},C=async e=>{if(confirm('End "'.concat(e.name,'"? This will mark the plan as completed.')))try{let a=(0,n.JU)(i.db,"clients",t.id,"interventionPlans",e.id);await (0,n.r7)(a,{status:"completed"}),m("Plan marked as completed")}catch(e){console.error(e),u("Failed to update plan")}},D=async e=>{if(d&&d.id!==e.id){if(!confirm("There's already an active plan. Activating this will end \"".concat(d.name,'". Continue?')))return;let e=(0,n.JU)(i.db,"clients",t.id,"interventionPlans",d.id);await (0,n.r7)(e,{status:"completed"})}try{let a=(0,n.JU)(i.db,"clients",t.id,"interventionPlans",e.id);await (0,n.r7)(a,{status:"active"}),m("Plan activated")}catch(e){console.error(e),u("Failed to activate plan")}};return l?(0,r.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,r.jsx)(P.Z,{className:"w-8 h-8 animate-spin text-primary-500"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[d?(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900/30 rounded-xl flex items-center justify-center",children:(0,r.jsx)(W.Z,{className:"w-6 h-6 text-primary-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:d.name}),(0,r.jsxs)("span",{className:"px-2 py-0.5 bg-success-100 dark:bg-success-900/30 text-success-700 dark:text-success-400 text-xs font-bold rounded-full flex items-center gap-1",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-success-500 rounded-full animate-pulse"}),"Active"]})]}),(0,r.jsx)("p",{className:"text-sm text-neutral-500 mt-0.5",children:"Intervention Plan"})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("button",{onClick:()=>f(d),className:"p-2 rounded-lg border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:(0,r.jsx)(c.Z,{className:"w-4 h-4 text-neutral-500"})})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-6 mb-6 p-4 bg-neutral-50 dark:bg-neutral-800/50 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(S.Z,{className:"w-4 h-4 text-neutral-400"}),(0,r.jsxs)("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[w(d.startDate)," → ",w(d.endDate)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(I.Z,{className:"w-4 h-4 text-neutral-400"}),(0,r.jsx)("span",{className:(0,h.W)("text-sm font-medium",7>=k(d.endDate)?"text-warning-600":"text-neutral-600 dark:text-neutral-400"),children:k(d.endDate)>0?"".concat(k(d.endDate)," days remaining"):"Plan ended"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs font-semibold text-neutral-500 uppercase tracking-wider mb-3",children:["Programs (",d.programIds.length,")"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.programIds.map(e=>{var t;return(null===(t=o.find(t=>t.id===e))||void 0===t?void 0:t.title)||e}).filter(Boolean).map((e,t)=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300 text-sm font-medium rounded-lg",children:[(0,r.jsx)(F.Z,{className:"w-3.5 h-3.5"}),e]},t))})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t border-neutral-100 dark:border-neutral-800",children:[(0,r.jsx)("button",{onClick:()=>f(d),className:"flex-1 py-2.5 border border-neutral-200 dark:border-neutral-700 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 font-medium transition-colors text-sm",children:"Edit Plan"}),(0,r.jsx)("button",{onClick:()=>C(d),className:"flex-1 py-2.5 bg-neutral-900 dark:bg-white text-white dark:text-neutral-900 rounded-xl font-medium transition-colors text-sm hover:bg-neutral-800 dark:hover:bg-neutral-100",children:"End Plan"})]})]})}):(0,r.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800 p-12 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(z.Z,{className:"w-8 h-8 text-neutral-400"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white mb-2",children:"No Active Intervention Plan"}),(0,r.jsx)("p",{className:"text-neutral-500 max-w-sm mx-auto mb-6",children:"Create a plan to automatically assign programs to this client's therapy sessions."}),(0,r.jsxs)("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-colors shadow-lg shadow-primary-500/20",children:[(0,r.jsx)(U.Z,{className:"w-4 h-4"}),"Create Intervention Plan"]})]}),y.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h4",{className:"text-sm font-semibold text-neutral-500 uppercase tracking-wider",children:["Draft Plans (",y.length,")"]}),y.map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-neutral-100 dark:bg-neutral-800 rounded-lg flex items-center justify-center",children:(0,r.jsx)(z.Z,{className:"w-5 h-5 text-neutral-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[w(e.startDate)," → ",w(e.endDate)," \xb7 ",e.programIds.length," programs"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>f(e),className:"px-3 py-1.5 text-xs font-medium text-neutral-600 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>D(e),className:"px-3 py-1.5 text-xs font-medium bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Activate"})]})]})},e.id))]}),d&&(0,r.jsxs)("button",{onClick:()=>p(!0),className:"w-full py-3 border-2 border-dashed border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-500 hover:border-primary-300 hover:text-primary-600 transition-colors font-medium flex items-center justify-center gap-2",children:[(0,r.jsx)(U.Z,{className:"w-4 h-4"}),"Create New Plan"]}),v.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{onClick:()=>N(!j),className:"flex items-center gap-2 text-sm font-semibold text-neutral-500 uppercase tracking-wider hover:text-neutral-700 transition-colors",children:[(0,r.jsxs)("span",{children:["Plan History (",v.length,")"]}),j?(0,r.jsx)(J.Z,{className:"w-4 h-4"}):(0,r.jsx)(M.Z,{className:"w-4 h-4"})]}),j&&(0,r.jsx)("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:v.map(e=>(0,r.jsx)("div",{className:"bg-neutral-50 dark:bg-neutral-800/50 rounded-xl p-4 border border-neutral-100 dark:border-neutral-800",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-neutral-200 dark:bg-neutral-700 rounded-lg flex items-center justify-center",children:(0,r.jsx)(L.Z,{className:"w-4 h-4 text-neutral-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:[w(e.startDate)," → ",w(e.endDate)," \xb7 ",e.programIds.length," programs"]})]})]}),(0,r.jsx)("span",{className:"text-xs text-neutral-400 font-medium",children:"Completed"})]})},e.id))})]}),(0,r.jsx)(q,{isOpen:x||!!g,onClose:()=>{p(!1),f(null)},clientId:t.id,existingPlan:g})]})}var H=a(69475),$=a(65561),G=a(80031),Q=a(77329),V=a(3428),K=a(10632),X=a(61172),Y=a(37841),ee=a(44715),et=a(51930),ea=a(24905);function er(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}let es=[{id:"assessment",label:"Assessment",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{id:"report",label:"Report",color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{id:"consent",label:"Consent Form",color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},{id:"other",label:"Other",color:"bg-neutral-100 text-neutral-700 dark:bg-neutral-800 dark:text-neutral-400"}];function el(e){return e.includes("pdf")?(0,r.jsx)(H.Z,{className:"w-5 h-5"}):e.includes("image")?(0,r.jsx)($.Z,{className:"w-5 h-5"}):e.includes("sheet")||e.includes("excel")?(0,r.jsx)(G.Z,{className:"w-5 h-5"}):e.includes("presentation")||e.includes("powerpoint")?(0,r.jsx)(Q.Z,{className:"w-5 h-5"}):(0,r.jsx)(V.Z,{className:"w-5 h-5"})}function en(e){var t;let{client:a}=e,{user:l,userData:d}=(0,p.useAuth)(),{success:o,error:c}=(0,b.useToast)(),{documents:x,loading:g,uploadDocument:f,deleteDocument:j,toggleParentAccess:N}=function(e){let[t,a]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!e){l(!1);return}let t=(0,n.IO)((0,n.hJ)(i.db,"clients",e,"documents"),(0,n.Xo)("uploadedAt","desc")),r=(0,n.cf)(t,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),a(t),l(!1)},e=>{console.error("Error fetching documents:",e),o(e.message),l(!1)});return()=>r()},[e]),{documents:t,loading:r,error:d,uploadDocument:async(t,a,r)=>{if(!e)return null;try{let s=Date.now(),l=t.name.replace(/[^a-zA-Z0-9.-]/g,"_"),d="clients/".concat(e,"/documents/").concat(s,"_").concat(l),o=(0,ea.iH)(i.tO,d);return new Promise((s,l)=>{let c=(0,ea.B0)(o,t);c.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;null==r||r(t)},e=>{console.error("Upload error:",e),l(e)},async()=>{let r=await (0,ea.Jt)(c.snapshot.ref),l={name:a.name,fileName:t.name,fileType:t.type,fileSize:t.size,storagePath:d,downloadUrl:r,uploadedBy:a.uploadedBy,uploadedByName:a.uploadedByName,uploadedAt:(0,n.Bt)(),category:a.category,description:a.description||"",sharedWithParent:a.sharedWithParent},o=await (0,n.ET)((0,n.hJ)(i.db,"clients",e,"documents"),l);s({id:o.id,...l})})})}catch(e){throw console.error("Error uploading document:",e),e}},deleteDocument:async t=>{if(e)try{let a=(0,ea.iH)(i.tO,t.storagePath);await (0,ea.oq)(a),await (0,n.oe)((0,n.JU)(i.db,"clients",e,"documents",t.id))}catch(e){throw console.error("Error deleting document:",e),e}},toggleParentAccess:async(t,a)=>{if(e)try{await (0,n.r7)((0,n.JU)(i.db,"clients",e,"documents",t),{sharedWithParent:a})}catch(e){throw console.error("Error updating document access:",e),e}}}}(a.id),[v,y]=(0,s.useState)(!1),[w,k]=(0,s.useState)(0),[C,D]=(0,s.useState)(!1),[Z,S]=(0,s.useState)(null),[I,T]=(0,s.useState)(""),[E,A]=(0,s.useState)("other"),[F,B]=(0,s.useState)(""),[W,z]=(0,s.useState)(!0),[J,M]=(0,s.useState)(null),[L,O]=(0,s.useState)("all"),q=(0,s.useRef)(null),_=async()=>{if(Z&&I.trim()){D(!0),k(0);try{await f(Z,{name:I.trim(),category:E,description:F.trim(),sharedWithParent:W,uploadedBy:(null==l?void 0:l.uid)||"",uploadedByName:(null==d?void 0:d.name)||(null==l?void 0:l.email)||"Unknown"},e=>k(e)),o("Document uploaded successfully"),G(),y(!1)}catch(e){c("Failed to upload document")}finally{D(!1)}}},H=async e=>{if(confirm('Are you sure you want to delete "'.concat(e.name,'"? This cannot be undone.')))try{await j(e),o("Document deleted"),M(null)}catch(e){c("Failed to delete document")}},$=async e=>{try{await N(e.id,!e.sharedWithParent),o(e.sharedWithParent?"Document hidden from parent":"Document shared with parent"),M(null)}catch(e){c("Failed to update document access")}},G=()=>{S(null),T(""),A("other"),B(""),z(!0),k(0),q.current&&(q.current.value="")},Q="all"===L?x:x.filter(e=>e.category===L);return g?(0,r.jsxs)("div",{className:"py-20 flex flex-col items-center justify-center",children:[(0,r.jsx)(P.Z,{className:"w-8 h-8 animate-spin text-primary-500 mb-4"}),(0,r.jsx)("p",{className:"text-neutral-500",children:"Loading documents..."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Documents"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-500",children:[x.length," document",1!==x.length?"s":""," • ",x.filter(e=>e.sharedWithParent).length," shared with parent"]})]}),(0,r.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-xl font-medium hover:bg-primary-600 transition-colors",children:[(0,r.jsx)(K.Z,{className:"w-4 h-4"}),"Upload Document"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("button",{onClick:()=>O("all"),className:(0,h.W)("px-3 py-1.5 text-sm font-medium rounded-lg transition-colors","all"===L?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:"All"}),es.map(e=>(0,r.jsx)("button",{onClick:()=>O(e.id),className:(0,h.W)("px-3 py-1.5 text-sm font-medium rounded-lg transition-colors",L===e.id?e.color:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:e.label},e.id))]}),0===Q.length?(0,r.jsxs)("div",{className:"py-16 text-center bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-neutral-50 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(X.Z,{className:"w-8 h-8 text-neutral-300"})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"No documents"}),(0,r.jsx)("p",{className:"text-neutral-500 text-sm mt-1 mb-6",children:"all"===L?"Upload documents for this client to get started.":"No ".concat(null===(t=es.find(e=>e.id===L))||void 0===t?void 0:t.label.toLowerCase()," documents found.")}),"all"===L&&(0,r.jsxs)("button",{onClick:()=>y(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-xl font-medium hover:bg-primary-600 transition-colors",children:[(0,r.jsx)(U.Z,{className:"w-4 h-4"}),"Upload First Document"]})]}):(0,r.jsx)("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800 overflow-hidden",children:(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:Q.map(e=>{var t,a;let s=es.find(t=>t.id===e.category);return(0,r.jsx)("div",{className:"p-4 hover:bg-neutral-50 dark:hover:bg-neutral-800/50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-neutral-100 dark:bg-neutral-800 rounded-lg flex items-center justify-center text-neutral-500 flex-shrink-0",children:el(e.fileType)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h4",{className:"font-medium text-neutral-900 dark:text-white truncate",children:e.name}),(0,r.jsx)("span",{className:(0,h.W)("px-2 py-0.5 text-xs font-medium rounded-full",null==s?void 0:s.color),children:null==s?void 0:s.label}),e.sharedWithParent&&(0,r.jsxs)("span",{className:"flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[(0,r.jsx)(Y.Z,{className:"w-3 h-3"}),"Parent"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm text-neutral-500",children:[(0,r.jsx)("span",{children:er(e.fileSize)}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:e.uploadedByName}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:(null===(a=e.uploadedAt)||void 0===a?void 0:null===(t=a.toDate)||void 0===t?void 0:t.call(a))?new Date(e.uploadedAt.toDate()).toLocaleDateString():"Just now"})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-neutral-500 mt-1 truncate",children:e.description})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,r.jsx)("a",{href:e.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",title:"Download",children:(0,r.jsx)(ee.Z,{className:"w-4 h-4 text-neutral-500"})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>M(J===e.id?null:e.id),className:(0,h.W)("p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",J===e.id&&"bg-neutral-100 dark:bg-neutral-800"),children:(0,r.jsx)(m.Z,{className:"w-4 h-4 text-neutral-500"})}),J===e.id&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>M(null)}),(0,r.jsx)("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-xl shadow-xl z-20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:(0,r.jsxs)("div",{className:"p-1",children:[(0,r.jsx)("button",{onClick:()=>$(e),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:e.sharedWithParent?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et.Z,{className:"w-4 h-4"}),"Hide from Parent"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y.Z,{className:"w-4 h-4"}),"Share with Parent"]})}),(0,r.jsxs)("button",{onClick:()=>H(e),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-error-600 hover:bg-error-50 dark:hover:bg-error-900/20 rounded-lg transition-colors",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4"}),"Delete"]})]})})]})]})]})]})},e.id)})})}),v&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>!C&&y(!1)}),(0,r.jsxs)("div",{className:"relative w-full max-w-md bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:"Upload Document"}),(0,r.jsx)("button",{onClick:()=>!C&&y(!1),disabled:C,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors disabled:opacity-50",children:(0,r.jsx)(R.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"File"}),(0,r.jsx)("input",{ref:q,type:"file",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){if(a.size>10485760){c("File size must be less than 10MB");return}S(a),T(a.name.replace(/\.[^/.]+$/,""))}},disabled:C,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.png,.jpg,.jpeg,.gif"}),Z?(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-xl",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/30 rounded-lg flex items-center justify-center text-primary-600",children:el(Z.type)}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium text-sm truncate",children:Z.name}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:er(Z.size)})]}),(0,r.jsx)("button",{onClick:()=>{S(null),q.current&&(q.current.value="")},disabled:C,className:"p-1 rounded hover:bg-neutral-200 dark:hover:bg-neutral-700",children:(0,r.jsx)(R.Z,{className:"w-4 h-4"})})]}):(0,r.jsxs)("button",{onClick:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.click()},disabled:C,className:"w-full p-6 border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-xl hover:border-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-colors",children:[(0,r.jsx)(K.Z,{className:"w-8 h-8 text-neutral-400 mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-600 dark:text-neutral-400",children:"Click to select a file"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 mt-1",children:"PDF, Word, Excel, PowerPoint, Images (max 10MB)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Document Name"}),(0,r.jsx)("input",{type:"text",value:I,onChange:e=>T(e.target.value),disabled:C,placeholder:"e.g., Initial Assessment Report",className:"w-full px-3 py-2 bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Category"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:es.map(e=>(0,r.jsx)("button",{onClick:()=>A(e.id),disabled:C,className:(0,h.W)("px-3 py-2 text-sm font-medium rounded-lg transition-colors",E===e.id?e.color:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:e.label},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"}),(0,r.jsx)("textarea",{value:F,onChange:e=>B(e.target.value),disabled:C,placeholder:"Brief description of the document...",rows:2,className:"w-full px-3 py-2 bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-xl resize-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:opacity-50"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-xl cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:W,onChange:e=>z(e.target.checked),disabled:C,className:"w-5 h-5 rounded border-neutral-300 text-primary-500 focus:ring-primary-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:"Share with parent"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:"Parent can view and download this document"})]})]}),C&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Uploading..."}),(0,r.jsxs)("span",{className:"font-medium",children:[Math.round(w),"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-neutral-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:"".concat(w,"%")}})})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 p-4 border-t border-neutral-200 dark:border-neutral-800",children:[(0,r.jsx)("button",{onClick:()=>{G(),y(!1)},disabled:C,className:"flex-1 px-4 py-2.5 border border-neutral-200 dark:border-neutral-700 rounded-xl font-medium hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors disabled:opacity-50",children:"Cancel"}),(0,r.jsx)("button",{onClick:_,disabled:!Z||!I.trim()||C,className:"flex-1 px-4 py-2.5 bg-primary-500 text-white rounded-xl font-medium hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{className:"w-4 h-4 animate-spin"}),"Uploading..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(K.Z,{className:"w-4 h-4"}),"Upload"]})})]})]})]})]})}var ei=a(70699),ed=a(12228);function eo(e){let{isOpen:t,onClose:a,client:l}=e,{success:d,error:o}=(0,b.useToast)(),{user:c}=(0,p.useAuth)(),{data:m}=(0,E.lU)(),[u,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)({name:"",birthDate:"",phone:"",parentName:"",parentEmail:"",medicalInfo:"",assignedTherapistId:""});(0,s.useEffect)(()=>{l&&t&&g({name:l.name||"",birthDate:l.birthDate||"",phone:l.phone||"",parentName:l.parentName||"",parentEmail:l.parentEmail||"",medicalInfo:l.medicalInfo||"",assignedTherapistId:l.assignedTherapistId||""})},[l,t]);let f=async e=>{e.preventDefault(),x(!0);try{let e=(0,n.JU)(i.db,"clients",l.id),t={name:h.name,birthDate:h.birthDate||null,phone:h.phone,parentName:h.parentName,parentEmail:h.parentEmail,medicalInfo:h.medicalInfo,assignedTherapistId:h.assignedTherapistId};await (0,n.r7)(e,t),d("Profile updated successfully"),h.assignedTherapistId&&h.assignedTherapistId!==l.assignedTherapistId&&c&&(0,ed.Wg)(h.assignedTherapistId,{clientId:l.id,clientName:h.name,triggeredByUserId:c.uid}).catch(e=>console.error("Failed to send assignment notification:",e)),a()}catch(e){console.error(e),o("Failed to update profile")}finally{x(!1)}};return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),(0,r.jsxs)("div",{className:"relative w-full max-w-lg bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 flex items-center justify-between bg-neutral-50 dark:bg-neutral-900",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900/30 text-primary-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)(ei.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Edit Profile"}),(0,r.jsxs)("p",{className:"text-xs text-neutral-500",children:["Update information for ",null==l?void 0:l.name]})]})]}),(0,r.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-neutral-200 dark:hover:bg-neutral-800",children:(0,r.jsx)(R.Z,{className:"w-5 h-5 text-neutral-500"})})]}),(0,r.jsxs)("form",{onSubmit:f,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:"Child Name"}),(0,r.jsx)("input",{type:"text",required:!0,placeholder:"e.g. John Doe",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.name,onChange:e=>g({...h,name:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:"Birth Date"}),(0,r.jsx)("input",{type:"date",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.birthDate,onChange:e=>g({...h,birthDate:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Phone Number ",(0,r.jsx)("span",{className:"text-neutral-400 font-normal",children:"(optional)"})]}),(0,r.jsx)("input",{type:"tel",placeholder:"e.g. 0721 234 567",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.phone,onChange:e=>g({...h,phone:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Parent Name ",(0,r.jsx)("span",{className:"text-neutral-400 font-normal",children:"(optional)"})]}),(0,r.jsx)("input",{type:"text",placeholder:"e.g. Robert Doe",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.parentName,onChange:e=>g({...h,parentName:e.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:["Parent Email ",(0,r.jsx)("span",{className:"text-neutral-400 font-normal",children:"(optional)"})]}),(0,r.jsx)("input",{type:"email",placeholder:"parent@example.com",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.parentEmail,onChange:e=>g({...h,parentEmail:e.target.value})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:"Assigned Therapist"}),(0,r.jsxs)("select",{className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 transition-colors",value:h.assignedTherapistId,onChange:e=>g({...h,assignedTherapistId:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select a therapist..."}),m.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300",children:"Medical Info / Notes"}),(0,r.jsx)("textarea",{rows:3,placeholder:"Allergies, specific diagnosis notes...",className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800 border-transparent rounded-lg focus:ring-2 focus:ring-primary-500 resize-none transition-colors",value:h.medicalInfo,onChange:e=>g({...h,medicalInfo:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"flex-1 py-2.5 border border-neutral-200 dark:border-neutral-700 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 font-bold transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"flex-1 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary-500/20",children:u?(0,r.jsx)(P.Z,{className:"w-4 h-4 animate-spin"}):"Save Changes"})]})]})]})]}):null}var ec=a(98998);function em(){let e=(0,l.useSearchParams)().get("id"),{data:t,loading:a,error:d}=function(e){let[t,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[d,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!e)return;l(!0);let t=(0,n.cf)((0,n.JU)(i.db,"clients",e),e=>{e.exists()?a({id:e.id,...e.data()}):o("Client not found"),l(!1)},e=>{console.error("Error fetching client:",e),o(e.message),l(!1)});return()=>t()},[e]),{data:t,loading:r,error:d}}(e||""),[o,c]=(0,s.useState)("overview"),[m,u]=(0,s.useState)(!1);return e?a?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,r.jsx)(P.Z,{className:"w-10 h-10 animate-spin text-primary-500"})}):d||!t?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-error-50 dark:bg-error-900/20 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(ec.Z,{className:"w-8 h-8 text-error-500"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Client not found"}),(0,r.jsx)("p",{className:"text-neutral-500 mt-2",children:"The client you are looking for doesn't exist or has been removed."}),(0,r.jsx)("a",{href:"/clients",className:"mt-6 px-6 py-2 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 transition-colors",children:"Back to Client List"})]}):(0,r.jsxs)("div",{className:"flex-1 p-6 space-y-8 max-w-7xl mx-auto w-full",children:[(0,r.jsx)(f,{client:t,activeTab:o,onTabChange:c,onEdit:()=>u(!0)}),(0,r.jsxs)("div",{className:"pt-2",children:["overview"===o&&(0,r.jsx)(A,{client:t}),"programs"===o&&(0,r.jsx)(B,{client:t}),"plan"===o&&(0,r.jsx)(_,{client:t}),"docs"===o&&(0,r.jsx)(en,{client:t}),!["overview","programs","plan","docs"].includes(o)&&(0,r.jsxs)("div",{className:"py-20 text-center bg-white dark:bg-neutral-900 rounded-2xl border border-neutral-200 dark:border-neutral-800",children:[(0,r.jsxs)("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white capitalize",children:[o," Section"]}),(0,r.jsx)("p",{className:"text-neutral-500 mt-1",children:"This section is currently under development."})]})]}),(0,r.jsx)(eo,{isOpen:m,onClose:()=>u(!1),client:t})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[80vh] text-center p-6",children:[(0,r.jsx)(ec.Z,{className:"w-12 h-12 text-error-500 mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Invalid Request"}),(0,r.jsx)("p",{className:"text-neutral-500 mt-2",children:"No client ID provided."})]})}function eu(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,r.jsx)(P.Z,{className:"w-10 h-10 animate-spin text-primary-500"})}),children:(0,r.jsx)(em,{})})}}},function(e){e.O(0,[358,139,233,901,675,970,971,69,744],function(){return e(e.s=26427)}),_N_E=e.O()}]);