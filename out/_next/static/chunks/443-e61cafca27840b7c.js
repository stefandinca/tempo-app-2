"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{13316:function(e,t,a){a.d(t,{Z:function(){return s}});var r=a(3827),n=a(76853),i=a(75504);let l=[{id:"all",label:"All"},{id:"unread",label:"Unread"},{id:"schedule",label:"Schedule"},{id:"attendance",label:"Attendance"},{id:"team",label:"Team"},{id:"billing",label:"Billing"},{id:"client",label:"Client"}];function s(e){let{activeFilter:t,onFilterChange:a}=e,{getCategoryCount:s}=(0,n.useNotifications)();return(0,r.jsx)("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4 sm:mx-0 sm:px-0",children:(0,r.jsx)("div",{className:"flex items-center gap-2 min-w-max pb-2",children:l.map(e=>{let n=t===e.id,l=s(e.id),o="all"===e.id||"unread"===e.id;return(0,r.jsxs)("button",{onClick:()=>a(e.id),className:(0,i.W)("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap",n?"bg-primary-500 text-white shadow-sm":"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"),children:[e.label,o&&l>0&&(0,r.jsx)("span",{className:(0,i.W)("px-1.5 py-0.5 text-xs rounded-full min-w-[20px] text-center",n?"bg-white/20 text-white":"bg-neutral-200 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-300"),children:l})]},e.id)})})})}},98461:function(e,t,a){a.d(t,{Z:function(){return p}});var r=a(3827),n=a(47907),i=a(97307),l=a(46578),s=a(34059),o=a(10527),c=a(11213),d=a(61524),u=a(14589),m=a(76853);let g={schedule:i.Z,attendance:l.Z,team:s.Z,billing:o.Z,client:c.Z,system:d.Z};function p(e){var t;let{notification:a,compact:i=!1,onAction:l}=e,s=(0,n.useRouter)(),{markAsRead:o}=(0,m.useNotifications)(),c=u.p[a.category];g[a.category];let d=async()=>{var e;a.read||await o(a.id);let t=null===(e=a.actions)||void 0===e?void 0:e[0];(null==t?void 0:t.type)==="navigate"&&t.route&&s.push(t.route),null==l||l()};return(0,r.jsxs)("div",{onClick:d,className:"\n        flex items-start gap-3 cursor-pointer transition-colors\n        hover:bg-neutral-50 dark:hover:bg-neutral-800/50\n        ".concat(i?"p-3":"p-4","\n        ").concat(a.read?"":"bg-primary-50/50 dark:bg-primary-900/10","\n      "),children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-1",children:a.read?(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full border-2 ".concat(c.color.replace("text-","border-"))}):(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(c.color.replace("text-","bg-"))})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsx)("p",{className:"font-medium text-neutral-900 dark:text-white ".concat("text-sm"),children:a.title}),(0,r.jsx)("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 whitespace-nowrap flex-shrink-0",children:(0,u.S)(a.createdAt)})]}),(0,r.jsx)("p",{className:"text-neutral-500 dark:text-neutral-400 mt-0.5 ".concat(i?"text-xs line-clamp-1":"text-sm line-clamp-2"),children:a.message}),!i&&(null===(t=a.actions)||void 0===t?void 0:t[0])&&(0,r.jsx)("button",{className:"mt-2 text-xs font-medium ".concat(c.color," hover:underline"),children:a.actions[0].label})]})]})}},88102:function(e,t,a){a.d(t,{Z:function(){return o}});var r=a(3827),n=a(76853),i=a(98461),l=a(43345);function s(e){let{title:t,notifications:a,compact:n,onItemAction:l}=e;return 0===a.length?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"px-4 py-2 bg-neutral-50 dark:bg-neutral-800/50 sticky top-0 z-10",children:(0,r.jsx)("span",{className:"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:t})}),(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:a.map(e=>(0,r.jsx)(i.Z,{notification:e,compact:n,onAction:l},e.id))})]})}function o(e){let{notifications:t,compact:a=!1,showDateGroups:o=!0,onItemAction:c,emptyMessage:d="No notifications"}=e,{getGroupedNotifications:u,loading:m}=(0,n.useNotifications)();if(m)return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})});if(0===t.length)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-neutral-400 dark:text-neutral-500",children:[(0,r.jsx)(l.Z,{className:"w-12 h-12 mb-3"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:d})]});if(!o)return(0,r.jsx)("div",{className:"divide-y divide-neutral-100 dark:divide-neutral-800",children:t.map(e=>(0,r.jsx)(i.Z,{notification:e,compact:a,onAction:c},e.id))});let g=u(t);return(0,r.jsxs)("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-800",children:[(0,r.jsx)(s,{title:"Today",notifications:g.today,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"Yesterday",notifications:g.yesterday,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"This Week",notifications:g.thisWeek,compact:a,onItemAction:c}),(0,r.jsx)(s,{title:"Older",notifications:g.older,compact:a,onItemAction:c})]})}},76853:function(e,t,a){a.r(t),a.d(t,{NotificationProvider:function(){return o},useNotifications:function(){return c}});var r=a(3827),n=a(64090),i=(a(58121),a(1221),a(18628));let l=[{type:"schedule_updated",category:"schedule",title:"Session Rescheduled",message:"Session with Emma Martinez moved from 9:00 AM to 10:30 AM tomorrow",sourceType:"event",route:"/calendar"},{type:"attendance_logged",category:"attendance",title:"Attendance Logged",message:"Dr. Garcia marked 4 clients as present today",sourceType:"event",route:"/calendar"},{type:"client_assigned",category:"client",title:"New Client Assigned",message:"You have been assigned to work with Lucas Chen",sourceType:"client",route:"/clients"},{type:"billing_generated",category:"billing",title:"Invoice Generated",message:"January invoice for Martinez family is ready ($1,240.00)",sourceType:"billing",route:"/billing"},{type:"schedule_cancelled",category:"schedule",title:"Session Cancelled",message:"Tomorrow's session with Jake Thompson has been cancelled",sourceType:"event",route:"/calendar"},{type:"team_member_added",category:"team",title:"New Team Member",message:"Dr. Sarah Kim joined as Speech Therapist",sourceType:"team",route:"/team"},{type:"system_alert",category:"system",title:"System Maintenance",message:"Scheduled maintenance tonight at 2:00 AM EST",sourceType:"system"},{type:"report_ready",category:"client",title:"Progress Report Ready",message:"January progress report for Emma Martinez is ready for review",sourceType:"client",route:"/clients"}],s=(0,n.createContext)(void 0);function o(e){let{children:t}=e,{user:a}=(0,i.useAuth)(),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[m,g]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),[x,y]=(0,n.useState)(null),[f,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!a){c([]),u(!1);return}c(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=new Date,r=[];for(let n=0;n<t;n++){let t=l[n%l.length],i=n*(1+5*Math.random()),s=new Date(a.getTime()-36e5*i);r.push({id:"mock-".concat(n,"-").concat(Date.now()),recipientId:e,recipientRole:"admin",type:t.type,category:t.category,title:t.title,message:t.message,createdAt:s.toISOString(),read:n>2,sourceType:t.sourceType,sourceId:"mock-source-".concat(n),actions:t.route?[{label:"View Details",type:"navigate",route:t.route}]:void 0})}return r}(a.uid,8)),u(!1),h(!1)},[a]);let v=(0,n.useMemo)(()=>o.filter(e=>!e.read).length,[o]),w=(0,n.useCallback)(async e=>{c(t=>t.map(t=>t.id===e?{...t,read:!0,readAt:new Date().toISOString()}:t))},[]),k=(0,n.useCallback)(async()=>{o.filter(e=>!e.read),c(e=>e.map(e=>({...e,read:!0,readAt:new Date().toISOString()})))},[o]),N=(0,n.useCallback)(e=>"all"===e?o:"unread"===e?o.filter(e=>!e.read):o.filter(t=>t.category===e),[o]),j=(0,n.useCallback)(e=>"all"===e?o.length:"unread"===e?o.filter(e=>!e.read).length:o.filter(t=>t.category===e).length,[o]),C=(0,n.useCallback)(e=>{let t=e||o,a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(r.getTime()-864e5),i=new Date(r.getTime()-6048e5),l={today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(e=>{let t=new Date(e.createdAt);t>=r?l.today.push(e):t>=n?l.yesterday.push(e):t>=i?l.thisWeek.push(e):l.older.push(e)}),l},[o]),S=(0,n.useCallback)(async()=>{},[a,x,p]);return(0,r.jsx)(s.Provider,{value:{notifications:o,unreadCount:v,loading:d,error:m,markAsRead:w,markAllAsRead:k,loadMore:S,hasMore:p,isDropdownOpen:f,setDropdownOpen:b,filterByCategory:N,getGroupedNotifications:C,getCategoryCount:j},children:t})}function c(){let e=(0,n.useContext)(s);if(!e)throw Error("useNotifications must be used within NotificationProvider");return e}},14589:function(e,t,a){a.d(t,{S:function(){return n},p:function(){return r}});let r={schedule:{label:"Schedule",color:"text-primary-500",bgColor:"bg-primary-100 dark:bg-primary-900/30",iconName:"Calendar"},attendance:{label:"Attendance",color:"text-success-500",bgColor:"bg-success-100 dark:bg-success-900/30",iconName:"CheckCircle"},team:{label:"Team",color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",iconName:"Users"},billing:{label:"Billing",color:"text-warning-500",bgColor:"bg-warning-100 dark:bg-warning-900/30",iconName:"CreditCard"},client:{label:"Client",color:"text-teal-500",bgColor:"bg-teal-100 dark:bg-teal-900/30",iconName:"User"},system:{label:"System",color:"text-error-500",bgColor:"bg-error-100 dark:bg-error-900/30",iconName:"AlertTriangle"}};function n(e){let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3),r=Math.floor(a/60),n=Math.floor(r/60),i=Math.floor(n/24);return a<60?"Just now":r<60?"".concat(r,"m ago"):n<24?"".concat(n,"h ago"):1===i?"Yesterday":i<7?"".concat(i,"d ago"):t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}}}]);